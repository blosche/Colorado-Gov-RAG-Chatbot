
<!DOCTYPE html>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107162357-3"></script>
<script>
    //Google Analytics for production
    if (document.location.toString().toLowerCase().search('dnrweb.state.co.us/cdss/') || document.location.toString().toLowerCase().search('dwr.state.co.us/tools/')) {
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-107162357-3');
    }

    // Reloads page when user traverses app with browser buttons.
    // Mitigates issues with caching.
    /*window.addEventListener("pageshow", function (event) {
        var historyTraversal = event.persisted ||
            (typeof window.performance != "undefined" &&
                window.performance.navigation.type === 2);
        if (historyTraversal) {
            // Handle page restore.
            window.location.reload();
        }
    });*/
</script>
<html lang="en">

<style>

    /*.panel-body {
        padding: 0!important;
    }*/


    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
        height: auto;
        -webkit-appearance: none;
    }

    .alert-yellow {
        background-color: yellow;
        border: 2px solid red;
        margin: 0px;
        padding: 2px;
        font-weight: bold;
        text-align: center;
    }


    .Pull-Right, a.Pull-Right, li > a.Pull-Right {
        float: right;
        font-size: 14px;
        padding-right: 10px;
    }


    .navbar-nav > li > a, .navbar-brand {
        padding-top: 4px !important;
        padding-bottom: 0 !important;
        height: 28px;
    }

    .navbar {
        min-height: 28px !important;
    }

    .navbar-nav {
        margin: 0 !important;
    }

    .dropdown-menu > li,
    .dropdown-menu a,
    .dropdown-menu ul
    /*.dropdown-menu > li > ul > li ,

     .dropdown-menu > ul > li*/
    .dropdown-menu > li > ul > li > a {
        display: block;
        padding: 3px 12px;
        clear: both;
        font-weight: normal;
        line-height: 1.42857143;
        color: #333;
        white-space: nowrap;
        list-style-type: none;
    }

    .dropdown-menu li, .dropdown-menu > a {
        padding-left: 20px;
    }

    .dropdown a:hover,
    .dropdown a:focus {
        color: white !important;
        text-decoration: none;
        background-color: #356686 !important;
        /*color: hotpink!important;
        background-color: #f5f5f5!important;*/
    }

    .dropdown-menu a:hover,
    .dropdown-menu a:focus {
        color: white !important;
        text-decoration: none;
        background-color: #356686 !important;
        /*color: hotpink!important;
        background-color: #f5f5f5!important;*/
    }

    .transparent-background > a:focus, .transparent-background > a:hover {
        background: transparent !important;
        background-color: transparent !important;
    }

    a.k-header-column-menu.k-state-active {
        background-color: transparent;
        color: red;
    }

    sup {
        font-size: 80% !important;
    }
</style>

<head>
    <meta charset="utf-8">
    
    <meta name="description" content="Visit Colorado CDSS Structure search to get information about DWR administrative structures, diversion records, water rights and more." />
    <meta name="keywords" content="administrative structure, WDID, water rights, diversion records" />

    <meta name="keywords" content="Colorado, Colorado Decision Support Systems, CDSS, Division of Water Resources, DWR, State Engineer's Office, SEO, hydrobase, tools, CDSS tools" />
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link href="/Tools/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <link href='/Tools/Content/bootstrap.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Content/bootstrap-datepicker3.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Styles/DWRMainMVC.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Styles/HeaderMenu.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Styles/HomePage.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Styles/map-icons.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Styles/CdssControls.css?v=06-25-2024_1425' rel='stylesheet'/>

    <script src='/Tools/Scripts/modernizr-2.8.3.js?v=06-25-2024_1425'></script>

    <script src='/Tools/Scripts/jquery-3.1.1.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/jquery-ui.min.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/moment.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/jquery.fileDownload.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/jquery.geocomplete.min.js?v=06-25-2024_1425'></script>

    <script src='/Tools/Scripts/bootstrap.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/bootstrap-datepicker.js?v=06-25-2024_1425'></script>

    <link href='/Tools/Content/kendo/2020.2.617/kendo.common-bootstrap.min.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Content/kendo/2020.2.617/kendo.bootstrap.min.css?v=06-25-2024_1425' rel='stylesheet'/>

    <script src='/Tools/Scripts/kendo/2020.2.617/kendo.all.min.js?v=06-25-2024_1425'></script>
<script src='/Tools/Scripts/kendo/2020.2.617/kendo.aspnetmvc.min.js?v=06-25-2024_1425'></script>

    <script src='/Tools/js/Utils.js?v=LbWa0dRtwNpRIr6mE1dR7CssqBzdXs5icJ6jf9SOclc1?v=06-25-2024_1425'></script>

    
    <script src='/Tools/js/toolTips.js?v=06-25-2024_1425'></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/OverlappingMarkerSpiderfier/1.0.3/oms.js"></script>

    <meta name="viewport" content="width=device-width" />
    <title>Structures</title>
</head>
<body>
    <script type="text/javascript" src="/Tools/Scripts/spin.min.js"></script>


    <script type="text/javascript">
        function loadSpinner() {
            var trget = document.getElementById('loading');
            var opts = {
                lines: 12, // The number of lines to draw
                length: 7, // The length of each line
                width: 4, // The line thickness
                radius: 10, // The radius of the inner circle
                color: '#000', // #rgb or #rrggbb
                speed: 1, // Rounds per second
                trail: 60, // Afterglow percentage
                shadow: false, // Whether to render a shadow
                hwaccel: false // Whether to use hardware acceleration
            };
            $("#loading").fadeIn();
            new Spinner(opts).spin(trget);
        }

        function stopSpinner() {
            var spinnerDiv = document.getElementById('loading');
            spinnerDiv.style.display = 'none';
        }
    </script>
    <div id="loading">
        <div id="loadingcont">
            <p id="loadingspinr">
            </p>
        </div>
    </div>
    <script>
        if (window.location !== window.parent.location) {	  // The page is in an iframe
            $(".navbar").hide();
            $("#footer").hide();
        }
        else {	  // The page is not in an iframe
            $(".navbar").show();
            $("#footer").show();
        }

        loadSpinner();
        $(window).on('load', function () { stopSpinner(); });
        $(document).on("show.bs.modal", ".modal.fade[role='dialog']", function (e) {
            // Ensure modals are on top of kendo windows
            var maxZindex = Math.max.apply(Math, $(".k-window").map(function () { return $(this).css("z-index"); }).get());
            if (maxZindex != null && maxZindex != 0 && isFinite(maxZindex))
                $(e.target).css("z-index", maxZindex + 1);
        });
    </script>


    
    <div id="header" class="header" style="padding: 0;">


        <div class="container-fluid" id="bannerheader" data-toggle="expand" data-target="#menuitemlist">
            <div class="bottom-right" style="top: 10px">
                <span style="cursor: pointer;" onclick="ShowBanner(false);"><img src="/Tools/Images/angle-double-up.svg" class="Show-DesktopMenu" id="hideBanner" style="height: 20px" alt="Click to hide top banner" /></span>
            </div>
            <div id="userDiv">
                <div class="bottom-right" id="signedInUser" style="display: none">
                    Welcome <text id="userName"></text>,
                    <a href="" data-toggle="modal" data-target="#logoutModal">
                        <span class="glyphicon glyphicon-log-out"></span> Sign out
                    </a>
                </div>
                <div class="bottom-right" id="guestUser" style="display: none">
                    <text id="guestUserWelcome" style="font-style: italic">Welcome Guest, </text>
                    <a href=/Tools/Home/LoginUser>
                        Click here to Login <span class="glyphicon glyphicon-log-in"></span>
                    </a>
                </div>
            </div>

<script src='/Tools/js/KendoGridSettingsUtils.js?v=06-25-2024_1425'></script>
<script>
    function handleVisibilityChange() {
        if (!document.hidden) {
            pageLoadOrTabOpened();
        }
    }

        
    var _newGridObserver = null;
    var _grids = {};

    function registerGridObserver(jQuerySelectorCriteriaForGridsWithSettings) {
        if (_newGridObserver != null) return;
        var gridsToBind = $(".k-grid");
        if (jQuerySelectorCriteriaForGridsWithSettings != null)
            gridsToBind = gridsToBind.filter(jQuerySelectorCriteriaForGridsWithSettings);
        gridsToBind.each(function(index) {
            _grids[$(this).attr("id")] = true;
        });
        _newGridObserver = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                var i;
                var addedNodes = mutation.addedNodes;
                var len = addedNodes.length;
                for (i = 0; i < len; i++) {
                    var node = addedNodes[i];
                    var id = node.id;
                    if (id != null && node.classList.contains("k-grid") && _grids[id] != null) {
                        _grids[id] = true;
                        bindGridForSaving(node, signedInUser != null, signedInUser != null);
                    }
                }
            });
        });

        // configuration of the observer: only fire when the child list changes
        var config = { childList: true, subtree: true }

        // pass in the target node, as well as the observer options
        _newGridObserver.observe(document, config);
    }

    function bindAllGrids(signedIn, triggerGetCommand) {
        $(document).ready(function() {
            var jQuerySelectorCriteriaForGridsWithSettings = null;
            //Need to define below named function in pages if you want to limit which grids get settings
            if (typeof getJQuerySelectorCriteriaForGridsWithSettings === "function")
                jQuerySelectorCriteriaForGridsWithSettings = getJQuerySelectorCriteriaForGridsWithSettings();
            registerGridObserver(jQuerySelectorCriteriaForGridsWithSettings);
            setTimeout(function () {
                var gridsToBind = $(".k-grid");
                if (jQuerySelectorCriteriaForGridsWithSettings != null)
                    gridsToBind = gridsToBind.filter(jQuerySelectorCriteriaForGridsWithSettings);
                gridsToBind.each(function (index) {
                    bindGridForSaving(this, signedIn, triggerGetCommand);
                });
            }, 100); 
        });
    }

    function bindGridForSaving(element, signedIn, triggerGetCommand) {
        var grid = $(element).data("kendoGrid");
        if (grid == null) return;
        var gridId = $(element).attr("id");
        var saveUrl = "/Tools/Home/Home/SaveGridSettings?grid=" +
            gridId;
        var getUrl = "/Tools/Home/Home/GetGridSettings?grid=" +
            gridId;
        var getNameListUrl = "/Tools/Home/Home/GetGridSettingsNames?grid=" +
            gridId;
        var renameSettingUrl = "/Tools/Home/Home/RenameGridSetting?grid=" +
            gridId;
        var setChosenConfigUrl = "/Tools/Home/Home/SetChosenKendoGridConfig?grid=" +
            gridId;
        bindGridToSaveSettings(gridId, saveUrl, getUrl, signedIn, triggerGetCommand, renameSettingUrl, getNameListUrl, setChosenConfigUrl);
    }

    var signedInUser = null;
    var timeoutWarningHandler = null;
    var countDownHandler = null;
    var onSignInOrRenewInit = true;

    function onSignInOrRenew(jsonUser) {
        setDates(jsonUser);
        var newUser = jsonUser.SignedIn ? (jsonUser.FirstName + " " + jsonUser.LastName) : null;
        if (newUser != null && jsonUser.EmailAddress != null
            && (jsonUser.FirstName == null || jsonUser.FirstName.length === 0 || jsonUser.LastName == null || jsonUser.LastName.length === 0 )) {
            newUser = jsonUser.EmailAddress;
        }
 if (onSignInOrRenewInit === true || signedInUser !== newUser) { try { bindAllGrids(jsonUser.SignedIn, jsonUser.SignedIn ? signedInUser !== newUser : false); } catch (e) { console.log(e); } }        onSignInOrRenewInit = false;
        signedInUser = newUser;
        $("#signedInUser").toggle(jsonUser.SignedIn);
        $("#MyAccounts").toggle(jsonUser.SignedIn);
        $("#guestUser").toggle(!jsonUser.SignedIn);
        $("#loginDiv").toggle(!jsonUser.SignedIn);
        if (timeoutWarningHandler != null) clearTimeout(timeoutWarningHandler);
        if (countDownHandler != null) clearInterval(countDownHandler);
        if (jsonUser.SignedIn) {
            $("#userName")
                .text(signedInUser != null ? signedInUser : "");
            $("#guestUserLogin").addClass("hide");
            var expirationDateMillis = jsonUser.Expiration;
            var timeUntilExpiration = expirationDateMillis - Date.now();
            var warningUntilExpirationSeconds = 180;
            var warningUntilExpiration = (1000 * warningUntilExpirationSeconds);
            var timeToWarning = timeUntilExpiration - warningUntilExpiration;
            if (timeUntilExpiration > warningUntilExpiration)
                $("#modalSignOut").modal("hide");
            // Triggers the warning late by a few seconds to ensure the expiration has passed before refreshing or getting the user.
            // Without it, race condition can occur and user may or may not be shown as signed out correctly
            var triggerLateAmountSeconds = 2;
            var triggerLateAmount = 1000 * triggerLateAmountSeconds;
            timeoutWarningHandler = setTimeout(function() {
                var elem = document.getElementById("modalSignOutTime");
                var time = Math.floor(expirationDateMillis / 1000) - Math.floor(Date.now() / 1000);
                if (time > 0) {
                    $("#modalSignOut").modal("show");
                    time += 1 + triggerLateAmountSeconds;
                    frame();
                    if (countDownHandler != null) clearInterval(countDownHandler);
                    countDownHandler = setInterval(frame, 1000);

                    function frame() {
                        var fullSeconds = --time;
                        var seconds = fullSeconds % 60;
                        var minutes = Math.floor((fullSeconds - seconds) / 60);
                        var text = "<br/>";
                        text += minutes + ":" + (seconds >= 10 ? seconds : "0" + seconds);
                        if (elem != null) {
                            elem.innerHTML = text;
                        }
                        if (time <= 0) {
                            onExpiration();
                        }
                    }
                } else {
                    onExpiration();
                }
            },
            Math.min(timeToWarning + triggerLateAmount, 0x7FFFFFFF));//setTimeout uses 32 bit number, and the maximum number that can be held by 32 bits is 2^32 = 0x7FFFFFFF = 2147483647

            function onExpiration() {
                $("#modalSignOut").modal("hide");
                if (countDownHandler != null) clearInterval(countDownHandler);
pageLoadOrTabOpened();            }
        } else {
            $("#guestUser").toggle(true);
            $("#loginDiv").toggle(true);
            $("#guestUser").toggle(true);
            $("#guestUserLogin").removeClass("hide");
            $("#modalSignOut").modal("hide");

        }
        $(document).trigger("cdssSignInOrRenewed", [jsonUser]);
    }

    function pageLoadOrTabOpened() {
        //if (!$("#modalSignOut").is(':visible'))
        $.ajax({
            type: "POST",
            url: "/Tools/Home/GetUser",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {
                onSignInOrRenew(response);
            },
            failure: function (response) {
                signedInUser = null;
                $("#MyAccounts").toggle(false);
                $("#signedInUser").toggle(false);
                $("#guestUser").toggle(true);
                $("#guestUserLogin").removeClass("hide");
                if (timeoutWarningHandler != null) clearTimeout(timeoutWarningHandler);
                if (countDownHandler != null) clearInterval(countDownHandler);
                $("#modalSignOut").modal("hide");
bindAllGrids(false, false);            },
            error: function (response) {
                signedInUser = null;
                $("#MyAccounts").toggle(false);
                $("#signedInUser").toggle(false);
                $("#guestUser").toggle(true);
                $("#guestUserLogin").removeClass("hide");
                if (timeoutWarningHandler != null) clearTimeout(timeoutWarningHandler);
                if (countDownHandler != null) clearInterval(countDownHandler);
                $("#modalSignOut").modal("hide");
bindAllGrids(false, false);            }
        });
    }

    function renewSignIn(callback) {
        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            url: "/Tools/Home/RenewUser",
            success: function (response) {
                setDates(response);
                if (countDownHandler != null) clearInterval(countDownHandler);
                $("#modalSignOut").modal("hide");
                onSignInOrRenew(response);
                if (callback != null && typeof callback === "function") {
                    callback(response);
                }
                //pageLoadOrTabOpened();
            },
            failure: function (response) {
            },
            error: function (response) {

            }
        });
    }

    $(document).on("visibilitychange", handleVisibilityChange);
    $(document).ready(function () {
        $("#modalSignOut").on("click", "#modalSignOutRenewButton", renewSignIn);
        pageLoadOrTabOpened();
    });
</script>
            <div style="">
                <a href="https://dwr.state.co.us/tools/" title="Colorado Department of Natural Resources">
                    <img id="ImgDnrLarge" src="/Tools/Images/co_dnr_div_cdss_cwcbdwr_transparent.png" alt="Colorado Department of Natural Resources Home"
                         border="0" runat="server" style="height: 80px; margin: 19px;" />
                </a>
            </div>
        </div>

        <div class="container-fluid" id="bannerheadermobile" style="background: #356686; padding-left: 0; padding-right: 0">
            <div id="navMenuContentMobileLinks" class="Sidebar SidebarPinned" style="height:auto">
                <div id="SidebarContainer" class="SidebarContainer SidebarPinned">
                    <img id="ImgDnrShields" src="/Tools/Images/CDSSMobile.png" alt="Colorado Department of Natural Resources Home" style="border-right: 1px solid white; height: 35px; margin: 3px 0 0 0px; padding-right: 5px; padding-left: 10px; float: left">
                    
                    
                    <div class="container" onclick="myFunction(this)" style="margin-bottom: 0; float: right; margin-top: 4px" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
                        <div class="bar1"></div>
                        <div class="bar2"></div>
                        <div class="bar3"></div>
                    </div>

                    <div id="breadcrumbsDiv" class="SidebarSection SidebarNavigationMenu SidebarNavigationBreadcrumbs shrinkFont360" style="height:auto">
                        
                        
    <a href="/Tools/Structures" style="color:white">Structures</a>

                        <div class="SidebarSectionHeader">
                            <h2 class="SidebarSectionHeaderCaption">Navigation</h2>
                            <div class="clearer"></div>
                        </div>

                    </div>

                </div>
            </div>
        </div>

        <div class="collapse navbar-collapse nav-bar-color-desktop NavMenuStyling" id="navbar-collapse-1">
            <div class="dropdown" style="font-size: 14px">
                <div id="menuDropdown" class="container Show-DesktopMenu" onclick="myFunction(this); $('#menuDropdown').parent().toggleClass('open');" style="width: auto !important; margin-bottom: 0; margin-top: 9px; padding-left: 10px; float: left" aria-haspopup="true" aria-expanded="false">
                    <div class="bar1"></div>
                    <div class="bar2"></div>
                    <div class="bar3"></div>
                </div>
                <ul id="MenuSearchDropDown" class="dropdown-menu Desktop-Only-Menu" style="background: linear-gradient(190deg, #356686 31%, #3c3c3c 100%); margin-bottom: 25px; top: 96%; left: -1px">



<style>
    @media (max-width: 710px) {
        #mainnav li a.old-links span {
            visibility: hidden;
        }

        #mainnav li a.old-links:hover span {
            visibility: visible;
            color: #ff0000 !important;
        }

        #mainnav li a.old-links:hover {
            color: #ff0000 !important;
        }
    }

    @media (min-width: 710px) {
        li a.old-links span {
            visibility: hidden;
        }

        li a.old-links:hover span {
            visibility: visible;
            color: #ff0000 !important;
        }

        li a.old-links:hover {
            color: #ff0000 !important;
        }
    }
</style>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="https://dwr.colorado.gov/">DWR Home</a></li>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="https://cdss.colorado.gov/">CDSS Home</a></li>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="/Tools/Home">Dashboard</a></li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Administrative Calls  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/AdministrativeCalls/Active">Active</a></li>
        <li><a href="/Tools/AdministrativeCalls/Historical">Historical</a></li>
        <li><a href="/Tools/AdministrativeCalls/StructureCalls">Structure Call Analysis</a></li>
        <li><a href="/Tools/AdministrativeCalls/WaterSourceCalls">Water Source Call Analysis</a></li>
        <li><a href="/Tools/MyAlerts#calls">Call Alerts</a></li>
    </ul>
</li>
<li class="dropdown darkHoverBackground darkHoverBackground"><a href="/Tools/ClimateStations">Climate Stations</a></li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Dam Safety  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/DamSafety/Dams">Dams</a></li>
        <li><a href="/Tools/DamSafety/Livestock">Livestock Water Tank and Erosion Control</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Groundwater  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/GroundWater/GeoPhysicalLogs">Geophysical Logs</a></li>
        <li><a href="/Tools/GroundWater/WaterLevels">Water Levels</a></li>
        <li><a href="https://dwr.colorado.gov/services/well-construction-inspection#groundwater-levels" target="_blank">Water Level Reports</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Stations <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        
        <li><a href="/Tools/Stations?Stations=All">Current and Historical</a></li>
        <li><a href="/Tools/Stations" style="color: white">Current Conditions</a></li>
        <li><a href="/Tools/StationsLite" style="color: white">Stations Lite - <span style="font-style: italic;">mobile friendly</span></a></li>
    </ul>
</li>

<li class="dropdown darkHoverBackground"><a href="/Tools/Structures">Structures</a></li>

<li class="dropdown-submenu transparent-background" style="display: none;">
    <a href="#" class="dropdown" style="font-weight:bolder" data-toggle="dropdown">Tools <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/LocationConverter" style="color: white">Location Converter</a></li>
        <li><a href="/Tools/DistanceCalculator" style="color: white">Distance Calculator</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Water Rights <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/ISF">Instream Flow and Natural Lake Levels</a></li>
        <li><a href="/Tools/WaterRights/NetAmounts">Net Amounts</a></li>
        <li><a href="/Tools/WaterRights/Transactions">Transactions</a></li>
    </ul>
</li>

<li class="dropdown darkHoverBackground"><a href="/Tools/WellPermits">Well Permits</a></li>
<li class="dropdown"><a href="https://dwr.colorado.gov/services/data-information/gis">Map Viewer</a></li>
<li class="dropdown darkHoverBackground"><text class="menu-heading">Tools</text></li>

<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Aquifer Determination<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/DenverLocation" style="color: white">Denver Basin Aquifers - Specific Location</a></li>
        <li><a href="/Tools/DenverTract" style="color: white">Denver Basin Aquifers - Tract of Land</a></li>
        <li><a href="/Tools/DakotaLocation" style="color: white">Dakota/Cheyenne Aquifer</a></li>
    </ul>
</li>



<li class="dropdown"><a href="https://data.colorado.gov/browse?category=Water&limitTo=datasets&q=DWR&sortBy=alpha&utf8=%E2%9C%93">Information Marketplace</a></li>


<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Data Submittal<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/Reporting">Reporting Submittal</a></li>
        <li><a href="/Tools/DiversionRecords">Diversion Records</a></li>
        <li><a href="/Tools/MeterReadings">Meter Readings</a></li>
        <li><a href="/Tools/WaterLevels">Water Levels</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">My Stations<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/MyStations">My Stations</a></li>
        <li><a href="/Tools/MyAlerts">My Alerts</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Location Tools<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/LocationConverter" style="color: white">Location Converter</a></li>
        <li><a href="/Tools/DistanceCalculator" style="color: white">Distance Calculator</a></li>
    </ul>
</li>
<li class="dropdown"><a href="https://dwr.state.co.us/rest/get/help">REST Web Services</a></li>
<li><HR class="Show-MobileMenu" style="margin-bottom: 0;margin-top: 0" /></li>
<script>
    $(document).ready(function () {
        var trigger = $('.hamburger'),
            overlay = $('.overlay'),
            isClosed = false;

        trigger.click(function () {
            hamburger_cross();
        });

        function hamburger_cross() {

            if (isClosed == true) {
                overlay.hide();
                trigger.removeClass('is-open');
                trigger.addClass('is-closed');
                isClosed = false;
            } else {
                overlay.show();
                trigger.removeClass('is-closed');
                trigger.addClass('is-open');
                isClosed = true;
            }
        }

        $('[data-toggle="offcanvas"]').click(function () {
            $('#wrapper').toggleClass('toggled');
        });
    });


    function resizeMenu() {
        if (window.innerWidth < 710) {
            $(".second-dropdown-menu").each(function () {
                $(this).addClass("sub-dropdown-menu");
            });
            $(".dropdown-toggle-disabled").each(function () {
                $(this).addClass("dropdown-toggle");
                $(this).removeClass("dropdown-toggle-disabled");
                $(this).attr('disabled', false);
            });
            $(".dropdown-submenu").each(function () {
                $(this).addClass("dropdown-submenu-disabled");
                $(this).removeClass("dropdown-submenu");
            });
        } else {
            $(".sub-dropdown-toggle").each(function () {
                $(this).addClass("dropdown-toggle-disabled");
                $(this).removeClass("dropdown-toggle");
                $(this).attr('disabled', true);
            });
            $(".dropdown-submenu-disabled").each(function () {
                $(this).addClass("dropdown-submenu");
                $(this).removeClass("dropdown-submenu-disabled");
            });
            $(".second-dropdown-menu").each(function () {
                $(this).removeClass("sub-dropdown-menu");
            });
        }
    }


    $("#toggleDisplayConditions").hover(function (eventObject) {
        if (eventObject.type == "mouseenter") {
            $("#oldConditions").css("display", "inline");
        }

        if (eventObject.type == "mouseleave") {
            $("#oldConditions").css("display", "none");
        }

    });

</script>
                </ul>


                <span style="line-height: 3;" class="Desktop-Only">
                    
    <a href="/Tools/Structures" style="color:white">Structures</a>

                </span>
                <ul id="mainnav" class="nav navbar-nav Show-MobileMenu" style="padding-left: 15px">



<style>
    @media (max-width: 710px) {
        #mainnav li a.old-links span {
            visibility: hidden;
        }

        #mainnav li a.old-links:hover span {
            visibility: visible;
            color: #ff0000 !important;
        }

        #mainnav li a.old-links:hover {
            color: #ff0000 !important;
        }
    }

    @media (min-width: 710px) {
        li a.old-links span {
            visibility: hidden;
        }

        li a.old-links:hover span {
            visibility: visible;
            color: #ff0000 !important;
        }

        li a.old-links:hover {
            color: #ff0000 !important;
        }
    }
</style>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="https://dwr.colorado.gov/">DWR Home</a></li>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="https://cdss.colorado.gov/">CDSS Home</a></li>
<li class="dropdown darkHoverBackground"><a class="menu-heading" href="/Tools/Home">Dashboard</a></li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Administrative Calls  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/AdministrativeCalls/Active">Active</a></li>
        <li><a href="/Tools/AdministrativeCalls/Historical">Historical</a></li>
        <li><a href="/Tools/AdministrativeCalls/StructureCalls">Structure Call Analysis</a></li>
        <li><a href="/Tools/AdministrativeCalls/WaterSourceCalls">Water Source Call Analysis</a></li>
        <li><a href="/Tools/MyAlerts#calls">Call Alerts</a></li>
    </ul>
</li>
<li class="dropdown darkHoverBackground darkHoverBackground"><a href="/Tools/ClimateStations">Climate Stations</a></li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Dam Safety  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/DamSafety/Dams">Dams</a></li>
        <li><a href="/Tools/DamSafety/Livestock">Livestock Water Tank and Erosion Control</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Groundwater  <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/GroundWater/GeoPhysicalLogs">Geophysical Logs</a></li>
        <li><a href="/Tools/GroundWater/WaterLevels">Water Levels</a></li>
        <li><a href="https://dwr.colorado.gov/services/well-construction-inspection#groundwater-levels" target="_blank">Water Level Reports</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Stations <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        
        <li><a href="/Tools/Stations?Stations=All">Current and Historical</a></li>
        <li><a href="/Tools/Stations" style="color: white">Current Conditions</a></li>
        <li><a href="/Tools/StationsLite" style="color: white">Stations Lite - <span style="font-style: italic;">mobile friendly</span></a></li>
    </ul>
</li>

<li class="dropdown darkHoverBackground"><a href="/Tools/Structures">Structures</a></li>

<li class="dropdown-submenu transparent-background" style="display: none;">
    <a href="#" class="dropdown" style="font-weight:bolder" data-toggle="dropdown">Tools <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/LocationConverter" style="color: white">Location Converter</a></li>
        <li><a href="/Tools/DistanceCalculator" style="color: white">Distance Calculator</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Water Rights <span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/ISF">Instream Flow and Natural Lake Levels</a></li>
        <li><a href="/Tools/WaterRights/NetAmounts">Net Amounts</a></li>
        <li><a href="/Tools/WaterRights/Transactions">Transactions</a></li>
    </ul>
</li>

<li class="dropdown darkHoverBackground"><a href="/Tools/WellPermits">Well Permits</a></li>
<li class="dropdown"><a href="https://dwr.colorado.gov/services/data-information/gis">Map Viewer</a></li>
<li class="dropdown darkHoverBackground"><text class="menu-heading">Tools</text></li>

<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Aquifer Determination<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/DenverLocation" style="color: white">Denver Basin Aquifers - Specific Location</a></li>
        <li><a href="/Tools/DenverTract" style="color: white">Denver Basin Aquifers - Tract of Land</a></li>
        <li><a href="/Tools/DakotaLocation" style="color: white">Dakota/Cheyenne Aquifer</a></li>
    </ul>
</li>



<li class="dropdown"><a href="https://data.colorado.gov/browse?category=Water&limitTo=datasets&q=DWR&sortBy=alpha&utf8=%E2%9C%93">Information Marketplace</a></li>


<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Data Submittal<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/Reporting">Reporting Submittal</a></li>
        <li><a href="/Tools/DiversionRecords">Diversion Records</a></li>
        <li><a href="/Tools/MeterReadings">Meter Readings</a></li>
        <li><a href="/Tools/WaterLevels">Water Levels</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">My Stations<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/MyStations">My Stations</a></li>
        <li><a href="/Tools/MyAlerts">My Alerts</a></li>
    </ul>
</li>
<li class="dropdown-submenu transparent-background">
    <a href="#" class="dropdown" data-toggle="dropdown">Location Tools<span class="caret menu-caret Mobile-Only"></span></a>
    <ul class="second-dropdown-menu dropdown-menu" role="menu">
        <li><a href="/Tools/LocationConverter" style="color: white">Location Converter</a></li>
        <li><a href="/Tools/DistanceCalculator" style="color: white">Distance Calculator</a></li>
    </ul>
</li>
<li class="dropdown"><a href="https://dwr.state.co.us/rest/get/help">REST Web Services</a></li>
<li><HR class="Show-MobileMenu" style="margin-bottom: 0;margin-top: 0" /></li>
<script>
    $(document).ready(function () {
        var trigger = $('.hamburger'),
            overlay = $('.overlay'),
            isClosed = false;

        trigger.click(function () {
            hamburger_cross();
        });

        function hamburger_cross() {

            if (isClosed == true) {
                overlay.hide();
                trigger.removeClass('is-open');
                trigger.addClass('is-closed');
                isClosed = false;
            } else {
                overlay.show();
                trigger.removeClass('is-closed');
                trigger.addClass('is-open');
                isClosed = true;
            }
        }

        $('[data-toggle="offcanvas"]').click(function () {
            $('#wrapper').toggleClass('toggled');
        });
    });


    function resizeMenu() {
        if (window.innerWidth < 710) {
            $(".second-dropdown-menu").each(function () {
                $(this).addClass("sub-dropdown-menu");
            });
            $(".dropdown-toggle-disabled").each(function () {
                $(this).addClass("dropdown-toggle");
                $(this).removeClass("dropdown-toggle-disabled");
                $(this).attr('disabled', false);
            });
            $(".dropdown-submenu").each(function () {
                $(this).addClass("dropdown-submenu-disabled");
                $(this).removeClass("dropdown-submenu");
            });
        } else {
            $(".sub-dropdown-toggle").each(function () {
                $(this).addClass("dropdown-toggle-disabled");
                $(this).removeClass("dropdown-toggle");
                $(this).attr('disabled', true);
            });
            $(".dropdown-submenu-disabled").each(function () {
                $(this).addClass("dropdown-submenu");
                $(this).removeClass("dropdown-submenu-disabled");
            });
            $(".second-dropdown-menu").each(function () {
                $(this).removeClass("sub-dropdown-menu");
            });
        }
    }


    $("#toggleDisplayConditions").hover(function (eventObject) {
        if (eventObject.type == "mouseenter") {
            $("#oldConditions").css("display", "inline");
        }

        if (eventObject.type == "mouseleave") {
            $("#oldConditions").css("display", "none");
        }

    });

</script>
                    <li role="separator" class="divider Mobile-Only" style="background-color: #eeeeee; height: 1px"></li>
                </ul>


                <span style="cursor: pointer;" onclick="ShowBanner(true);"><i class="fa fa-angle-double-down Show-DesktopMenu" id="showBanner" style="height: 20px; float: right; margin: 9px; display: none; font-size: 24px; color: white"></i></span>
                <ul id="mainnav-right" class="nav navbar-nav navbar-right border-top-mobile" style="padding-left: 15px; padding-bottom: 8px">


    


                                            <li><a href="#modalID" data-toggle="modal" data-target="#modalID">Help</a></li>
                                        <li id="guestUserLogin" class="Show-MobileMenu hide">
                        <a href=/Tools/Home/LoginUser>
                            Login <span class="glyphicon glyphicon-log-in pull-right"></span>
                        </a>
                    </li>
                    <li class="dropdown dropdown-hover" id="MyAccounts" style="display: none">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">My Account <span class="caret menu-caret"></span></a>
                        <ul id="account-information" class="dropdown-menu mainnav-right-submenu" style="background: #3c3c3c; right: -5px">
                            <li><a href=/Tools/Home/AccountDetails><span class="glyphicon glyphicon-user"></span> Account Details</a></li>
                            <li><a href=/Tools/Home/AccountChangePassword><span class="glyphicon glyphicon-lock"></span> Change Password</a></li>
                            <li><a href=/Tools/Home/NotificationLists><span class="glyphicon glyphicon-th-list"></span> My Subscriptions</a></li>
                            <li><a href=/Tools/Home/WebServiceToken><span class="glyphicon glyphicon-globe"></span> Web Service Token Manager</a></li>
                            <li role="separator" class="divider Show-DesktopMenu"></li>
                            <li><a href="https://dwr.state.co.us/portal/dwr/index"><span class="glyphicon glyphicon-home"></span> Portal Home</a></li>
                            <li><a href="" data-toggle="modal" data-target="#logoutModal"><span class="glyphicon glyphicon-log-out"></span> Sign out</a></li>
                        </ul>
                    </li>
                </ul>


            </div>
        </div>
    </div>

    <div id="messageBox" display="none" style="margin-bottom: 0; padding: 0 !important">
    </div>

    
    <div class="bodyContent" style="padding-bottom: 25px; min-height: 100%; background-color: transparent">
        




<style type="text/css">
    th, td {
        padding: 5px 0 5px 5px;
    }
</style>


<body>
    <!-- Main Body Content -->
    <div id="Content" class="container-fluid" style="background-color: white; padding-top: 5px; padding-right: 0px; padding-left: 2px">
<form action="/Tools/Structures/Search/IndexUrl" id="submitForm" method="get" onsubmit="executeSpinner(this);">            <div id="ExportDIV" class="modal fade" role="dialog">
                

                <div class="modal-dialog " style="width: 70%; max-width: 400px;">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">Ã—</span>
                            </button>
                            <h4 class="modal-title" style="text-align: center">
                                Export: Structures
                            </h4>
                        </div>
                        <div class="modal-body" style="padding: 0 15px 0 15px !important">
                            <table class="exportSection" id="CSV" style="float: left">
                                <tr>
                                    <td style="border-bottom: 1px solid grey;">
                                        <CENTER><h5 style="font-weight: bold">Spreadsheets</h5></CENTER>
                                    </td>

                                </tr>
                                <tr>
                                    <td style="padding-left: 15px">
                                        <input type="checkbox" id="divMetadata" value="divMetadata" onclick="exportValue();" checked>&nbsp;&nbsp;&nbsp;List of selected structures with metadata<br />
                                        &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; Record count:&nbsp;&nbsp;<strong><font id="recordMetadata" style="color: black">0 </font></strong><br>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td style="padding-left: 15px">
                                        <center><font id="validationMessageCSV" style="color: red"> </font></center>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="text-align: center"><button id="exportSubmitButton" type="submit" class="btn-dwr btn-dwr-nograd" name="submitButton" value="Export" onclick="$('#ExportDIV').modal('hide');">Export to CSV</button></td>
                                </tr>
                            </table>
                            <table class="exportSection" id="PDF">
                                <tr>
                                    <td style="border-bottom: 1px solid grey;">
                                        <CENTER><h5 style="font-weight: bold">Detailed Report</h5></CENTER>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="exportSectionStructuresRight">
                                        <input id="detailPDF" type="checkbox" name="structureExport" value="detailPDF" disabled> &nbsp; Structure Detail Report (coming soon)
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td style="text-align: center"><button id="pdfSubmitButton" type="submit" class="btn-dwr btn-dwr-nograd" name="submitButton" disabled="disabled" onclick="$('#ExportDIV').modal('hide');">Generate PDF</button></td>
                                </tr>


                            </table>
                        </div>
                        <div style="clear: both"></div>
                        <div class="modal-footer">
                            <button type="button" class="btn-dwr " data-dismiss="modal" onclick="resetExportValues(false);">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="leftSectionContent" class="col-left-search  leftSectionContent710" style="width: 354px; float: left; padding-left: 2px; padding-right: 2px; padding-bottom: 8px">
                
                <div id="searchPanelContent" class="panel panel-default">
                    <div class="panel-heading panel-heading-search">
                        <div>
                            <div style="float: right">
                                <a id="hideSearch" href="#" class="expand">Hide</a>
                            </div>
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#baseCriteriaDivSearch">Search Fields </a>
                            </h4>
                        </div>
                    </div>
                    <div class="collapse in" id="baseCriteriaDivSearch">
                        <div style="padding: 5px">
<script>
    $(document).ready(function () {
        showHide(
            document.getElementById('SelectedGeoValue')
        );
    })
</script>
<div id="geoLoctionSearch" class="collapse in">
    <table width="100%">
        <tr><td align="left" style="width:50%"><label data-fieldName="SelectedGeoValue" class='stylewithHelp' style='font-weight: normal' title='Select type of geographic boundary to search'>Geographic Location</label></td>
            <td align="right" style="width:50%">
                    <select class="search-height form-control" id="SelectedGeoValue" name="SelectedGeoValue" onchange="showHide(this);enableButton(&#39;buttonSearch&#39;)"><option value="countyDiv">County</option>
<option value="designatedBasinDiv">Designated Basin</option>
<option value="managementDistrictDiv">Management District</option>
<option value="waterDistrictDiv">Water District</option>
<option selected="selected" value="waterDivisionDiv">Water Division</option>
</select>
            </td>
        </tr>
    </table>
    <div id="t" style="display: none">
        <div id="countyDiv" class="monoSelect" style="display:none">
            <table style ="width:100%">
                <tr>
                    <td style="width: 100%">
                        <select class="search-height form-control" data-val="true" data-val-number="The field SelectedCountyId must be a number." data-val-required="The SelectedCountyId field is required." id="SelectedCountyId" name="SelectedCountyId" onchange="enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option selected="selected" value="0">All Counties</option>
<option value="1">ADAMS</option>
<option value="2">ALAMOSA</option>
<option value="3">ARAPAHOE</option>
<option value="4">ARCHULETA</option>
<option value="5">BACA</option>
<option value="6">BENT</option>
<option value="7">BOULDER</option>
<option value="64">BROOMFIELD</option>
<option value="8">CHAFFEE</option>
<option value="9">CHEYENNE</option>
<option value="10">CLEAR CREEK</option>
<option value="11">CONEJOS</option>
<option value="12">COSTILLA</option>
<option value="13">CROWLEY</option>
<option value="14">CUSTER</option>
<option value="15">DELTA</option>
<option value="16">DENVER</option>
<option value="17">DOLORES</option>
<option value="18">DOUGLAS</option>
<option value="19">EAGLE</option>
<option value="21">EL PASO</option>
<option value="20">ELBERT</option>
<option value="22">FREMONT</option>
<option value="23">GARFIELD</option>
<option value="24">GILPIN</option>
<option value="25">GRAND</option>
<option value="26">GUNNISON</option>
<option value="27">HINSDALE</option>
<option value="28">HUERFANO</option>
<option value="29">JACKSON</option>
<option value="30">JEFFERSON</option>
<option value="31">KIOWA</option>
<option value="32">KIT CARSON</option>
<option value="34">LA PLATA</option>
<option value="33">LAKE</option>
<option value="35">LARIMER</option>
<option value="36">LAS ANIMAS</option>
<option value="37">LINCOLN</option>
<option value="38">LOGAN</option>
<option value="39">MESA</option>
<option value="40">MINERAL</option>
<option value="41">MOFFAT</option>
<option value="42">MONTEZUMA</option>
<option value="43">MONTROSE</option>
<option value="44">MORGAN</option>
<option value="45">OTERO</option>
<option value="46">OURAY</option>
<option value="47">PARK</option>
<option value="48">PHILLIPS</option>
<option value="49">PITKIN</option>
<option value="50">PROWERS</option>
<option value="51">PUEBLO</option>
<option value="52">RIO BLANCO</option>
<option value="53">RIO GRANDE</option>
<option value="54">ROUTT</option>
<option value="55">SAGUACHE</option>
<option value="56">SAN JUAN</option>
<option value="57">SAN MIGUEL</option>
<option value="58">SEDGWICK</option>
<option value="59">SUMMIT</option>
<option value="60">TELLER</option>
<option value="61">WASHINGTON</option>
<option value="62">WELD</option>
<option value="63">YUMA</option>
</select>
                    </td>
                </tr>
            </table>
        </div>
        <div id="waterDivisionDiv" class="monoSelect" style="display: none">
            <table style="width: 100%">
                <tr>
                    <td style="width: 100%">
                        <select class="search-height form-control" data-val="true" data-val-number="The field SelectedWaterDivisionId must be a number." data-val-required="The SelectedWaterDivisionId field is required." id="SelectedWaterDivisionId" name="SelectedWaterDivisionId" onchange="enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option selected="selected" value="0">All Divisions</option>
<option value="1">1 - South Platte</option>
<option value="2">2 - Arkansas</option>
<option value="3">3 - Rio Grande</option>
<option value="4">4 - Gunnison</option>
<option value="5">5 - Colorado</option>
<option value="6">6 - Yampa/White</option>
<option value="7">7 - San Juan/Dolores</option>
</select>
                    </td>
                </tr>
            </table>
        </div>
        <div id="waterDistrictDiv" class="monoSelect" style="display: none">
            <table style="width: 100%">
                <tr>
                    <td style="width: 100%">
                        <select class="search-height form-control" data-val="true" data-val-number="The field SelectedWaterDistrictId must be a number." data-val-required="The SelectedWaterDistrictId field is required." id="SelectedWaterDistrictId" name="SelectedWaterDistrictId" onchange="enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option selected="selected" value="0">All Water Districts</option>
<option value="1">1 - South Platte: Greeley to Balzac</option>
<option value="2">2 - South Platte: Denver Gage to Greeley</option>
<option value="3">3 - Cache La Poudre River</option>
<option value="4">4 - Big Thompson River</option>
<option value="5">5 - St. Vrain Creek</option>
<option value="6">6 - Boulder Creek</option>
<option value="7">7 - Clear Creek</option>
<option value="8">8 - South Platte Cheesman to Denver Gage</option>
<option value="9">9 - Bear Creek</option>
<option value="10">10 - Fountain Creek</option>
<option value="11">11 - Arkansas: Headwaters to Salida</option>
<option value="12">12 - Arkansas: Salida to Portland</option>
<option value="13">13 - Wet Mountain Valley</option>
<option value="14">14 - Arkansas: Portland to Fowler</option>
<option value="15">15 - Saint Charles</option>
<option value="16">16 - Cucharas River</option>
<option value="17">17 - Arkansas: Fowler to Las Animas</option>
<option value="18">18 - Apishapa River</option>
<option value="19">19 - Purgatoire River</option>
<option value="20">20 - Rio Grande</option>
<option value="21">21 - Alamosa La Jara</option>
<option value="22">22 - Conejos Creek</option>
<option value="23">23 - Upper South Platte</option>
<option value="24">24 - Culebra Creek</option>
<option value="25">25 - San Luis Creek</option>
<option value="26">26 - Saguache Creek</option>
<option value="27">27 - Carnero Creek</option>
<option value="28">28 - Tomichi Creek</option>
<option value="29">29 - San Juan River Basin</option>
<option value="30">30 - Animas River Basin</option>
<option value="31">31 - Los Pinos River Basin</option>
<option value="32">32 - McElmo Creek Basin</option>
<option value="33">33 - La Plata River Basin</option>
<option value="34">34 - Mancos River Basin</option>
<option value="35">35 - Trinchera Creek</option>
<option value="36">36 - Blue River Basin</option>
<option value="37">37 - Eagle River Basin</option>
<option value="38">38 - Roaring Fork River Basin</option>
<option value="39">39 - Rifle/Elk/Parachute Creeks</option>
<option value="40">40 - North Fork/Tribs.</option>
<option value="41">41 - Lower Uncompahgre River</option>
<option value="42">42 - Lower Gunnison River</option>
<option value="43">43 - White River Basin</option>
<option value="44">44 - Lower Yampa River</option>
<option value="45">45 - Divide Creek</option>
<option value="46">46 - Navajo Reservoir</option>
<option value="47">47 - North Platte River Basin</option>
<option value="48">48 - Laramie River</option>
<option value="49">49 - Republican River</option>
<option value="50">50 - Muddy/Troublesome Creeks</option>
<option value="51">51 - Upper Colorado/Fraser Rivers</option>
<option value="52">52 - Piney/Cottonwood Creeks</option>
<option value="53">53 - Tribs. North of Colorado River</option>
<option value="54">54 - Slater/Timberlake Creeks</option>
<option value="55">55 - Little Snake River</option>
<option value="56">56 - Green River Basin</option>
<option value="57">57 - Middle Yampa River</option>
<option value="58">58 - Upper Yampa River</option>
<option value="59">59 - East River Basin</option>
<option value="60">60 - San Miguel River Basin</option>
<option value="61">61 - Paradox Creek</option>
<option value="62">62 - Upper Gunnison River</option>
<option value="63">63 - Dolores River Basin</option>
<option value="64">64 - South Platte: Balzac to Stateline</option>
<option value="65">65 - Arikaree River</option>
<option value="66">66 - Cimarron River Basin</option>
<option value="67">67 - Arkansas: Las Animas to Stateline</option>
<option value="68">68 - Upper Uncompahgre River</option>
<option value="69">69 - Disappointment Creek Basin</option>
<option value="70">70 - Roan Creek Basin</option>
<option value="71">71 - West Dolores Creek/Tribs.</option>
<option value="72">72 - Lower Colorado River</option>
<option value="73">73 - Little Dolores River</option>
<option value="76">76 - Sand Creek</option>
<option value="77">77 - Navajo River Basin</option>
<option value="78">78 - Piedra River Basin</option>
<option value="79">79 - Huerfano River</option>
<option value="80">80 - North Fork of South Platte</option>
</select>
                    </td>
                </tr>
            </table>
        </div>
        <div id="managementDistrictDiv" class="monoSelect" style="display:none">
            <table style ="width:100%">
                <tr>
                    <td style="width: 100%">
                        <select class="search-height form-control" id="SelectedManagementDistrictName" name="SelectedManagementDistrictName" onchange="enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option value="All Management Districts">All Management Districts</option>
<option value="ARIKAREE">ARIKAREE</option>
<option value="CENTRAL YUMA">CENTRAL YUMA</option>
<option value="EAST CHEYENNE">EAST CHEYENNE</option>
<option value="FRENCHMAN">FRENCHMAN</option>
<option value="LOST CREEK">LOST CREEK</option>
<option value="MARKS BUTTE">MARKS BUTTE</option>
<option value="NORTH KIOWA-BIJOU">NORTH KIOWA-BIJOU</option>
<option value="PLAINS">PLAINS</option>
<option value="SAND HILLS">SAND HILLS</option>
<option value="SOUTHERN HIGH PLAINS">SOUTHERN HIGH PLAINS</option>
<option value="UNKNOWN">UNKNOWN</option>
<option value="UPPER BIG SANDY">UPPER BIG SANDY</option>
<option value="UPPER BLACK SQUIRREL">UPPER BLACK SQUIRREL</option>
<option value="UPPER CROW CREEK">UPPER CROW CREEK</option>
<option value="W - Y">W - Y</option>
</select>
                    </td>
                </tr>
            </table>
        </div>
        <div id="designatedBasinDiv" class="monoSelect" style="display: none">
            <table style ="width:100%">
                <tr>
                    <td style="width: 100%">
                        <select class="search-height form-control" data-val="true" data-val-number="The field SelectedDesignatedBasinId must be a number." data-val-required="The SelectedDesignatedBasinId field is required." id="SelectedDesignatedBasinId" name="SelectedDesignatedBasinId" onchange="enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option selected="selected" value="0">All Basins</option>
<option value="1">NORTHERN HIGH PLAINS</option>
<option value="2">KIOWA-BIJOU</option>
<option value="3">SOUTHERN HIGH PLAINS</option>
<option value="4">UPPER BLACK SQUIRREL CREEK</option>
<option value="5">LOST CREEK</option>
<option value="6">CAMP CREEK</option>
<option value="7">UPPER BIG SANDY</option>
<option value="8">UPPER CROW CREEK</option>
</select>
                    </td>
                </tr>

            </table>
        </div>
    </div>
    <table width="100%">
        <tr>
            <td>
                <label data-fieldName="Subdistricts" class='stylewithHelp' style='font-weight: normal' title='User Association	'>User Association	</label>
            </td>
            <td>
                <select class="search-height form-control" data-val="true" data-val-number="The field SelectedSubdistrictId must be a number." data-val-required="The SelectedSubdistrictId field is required." id="SelectedSubdistrictId" name="SelectedSubdistrictId" onchange="enableButton(&#39;buttonSearch&#39;)"><option selected="selected" value="0">All</option>
<option value="1">AGUA</option>
<option value="2">CWPDA</option>
<option value="3">LAWMA</option>
<option value="4">UAWCD</option>
<option value="5">RGWCD SD1</option>
<option value="6">RGWCD SD2</option>
<option value="7">RGWCD SD3</option>
<option value="8">RGWCD SD4</option>
<option value="9">RGWCD SD5</option>
<option value="10">RGWCD SD6</option>
<option value="11">HCWUA</option>
<option value="12">MISC</option>
<option value="13">MISCMJ</option>
<option value="14">MOUSE</option>
<option value="15">MISCDAP</option>
<option value="21">S PLATTE</option>
<option value="22">REPUBLICAN</option>
<option value="24">DIV1EXEMPT</option>
<option value="25">CAA</option>
<option value="28">TRINCH SD7</option>
<option value="29">SLVWCD</option>
<option value="31">CONEJO WCD</option>
<option value="32">SWA</option>
<option value="33">AGRA</option>
</select>
            </td>
        </tr>
        <tr>
            <td>
               <label data-fieldName="StructureTypes" class='stylewithHelp' style='font-weight: normal' title='Structure Type'>Structure Type</label>
            </td>
            <td>
                <select class="search-height form-control" id="SelectedStructureId" name="SelectedStructureId" onchange="enableButton(&#39;buttonSearch&#39;)"><option value="*">All</option>
<option value="AQ">Aquifer NNT/NT Reservation</option>
<option value="P">Augmentation/Replacement Plan</option>
<option value="DB">Basin Determination</option>
<option value="1">Ditch</option>
<option value="DS">Ditch System</option>
<option value="E">Entity</option>
<option value="EC">Erosion Control Dam</option>
<option value="EP">Exchange Plan</option>
<option value="LS">Livestock Water Tank</option>
<option value="M">Measuring Point</option>
<option value="6">Mine</option>
<option value="MF">Minimum Flow</option>
<option value="0">Other</option>
<option value="7">Pipeline</option>
<option value="9">Power Plant</option>
<option value="8">Pump</option>
<option value="R">Reach</option>
<option value="AR">Reach (Aggregating)</option>
<option value="RA">Recharge Area</option>
<option value="RG">Recharge Area Group</option>
<option value="3">Reservoir</option>
<option value="RS">Reservoir System</option>
<option value="5">Seep</option>
<option value="4">Spring</option>
<option value="SC">Stream Confluence</option>
<option value="SG">Stream Gage</option>
<option value="2">Well</option>
<option value="WF">Well Field</option>
<option value="WG">Well Group</option>
</select>
            </td>
        </tr>
    </table>
</div>


<script>
    var pastBoundary = null;
    var pastGeo = null;
    
    function getBoundary() {
        var geoValue = document.getElementById('SelectedGeoValue');
        var boundary;
        if (geoValue.value == "waterDivisionDiv") {
            boundary = document.getElementById('SelectedWaterDivisionId').value;
        } else if (geoValue.value == "waterDistrictDiv") {
            boundary = document.getElementById('SelectedWaterDistrictId').value;
        } else if (geoValue.value == "countyDiv") {
            boundary = document.getElementById('SelectedCountyId').value;
        }
        return boundary;

    }

</script>

<script>
    function showHide(control) {
        try {
            var cntlArray = document.getElementsByClassName('monoSelect');
            var additionalGeo = document.getElementById('t');
            resetGeoFields(control.value);
            for (i = 0; i < cntlArray.length; i++) {
                if (control.value == cntlArray[i].id) {
                    cntlArray[i].style.display = 'block';
                    //additionalGeo.style.display = 'block';
                } else {
                    cntlArray[i].style.display = 'none';
                    // additionalGeo.style.display = 'none'
                }
            }
            if (control.value == "none") {
                additionalGeo.style.display = 'none';
            } else {
                additionalGeo.style.display = 'block';
            }
        } catch (err) {
            alert(err);
        }
    }



    function resetGeoFields(geoExclude) {
        switch (geoExclude) {
        case 'countyDiv':
            document.getElementById('SelectedWaterDivisionId').value = 0;
            document.getElementById('SelectedWaterDistrictId').value = 0;
            document.getElementById('SelectedManagementDistrictName').value = "";
            document.getElementById('SelectedDesignatedBasinId').value = 0;
            break;
        case 'waterDivisionDiv':
            document.getElementById('SelectedCountyId').value = 0;
            document.getElementById('SelectedWaterDistrictId').value = 0;
            document.getElementById('SelectedManagementDistrictName').value = "";
            document.getElementById('SelectedDesignatedBasinId').value = 0;
            break;
        case 'waterDistrictDiv':
            document.getElementById('SelectedCountyId').value = 0;
            document.getElementById('SelectedWaterDivisionId').value = 0;
            document.getElementById('SelectedManagementDistrictName').value = "";
            document.getElementById('SelectedDesignatedBasinId').value = 0;
            break;
        case 'managementDistrictDiv':
            if (document.getElementById('SelectedManagementDistrictName').value == "") {
                document.getElementById('SelectedCountyId').value = 0;
                document.getElementById('SelectedWaterDivisionId').value = 0;
                document.getElementById('SelectedWaterDistrictId').value = 0;
                document.getElementById('SelectedDesignatedBasinId').value = 0;
                document.getElementById('SelectedManagementDistrictName').value = "All Management Districts";
            }
            break;
        case 'designatedBasinDiv':
            document.getElementById('SelectedCountyId').value = 0;
            document.getElementById('SelectedWaterDivisionId').value = 0;
            document.getElementById('SelectedWaterDistrictId').value = 0;
            document.getElementById('SelectedManagementDistrictName').value = "";
            break;


        }

        
        
    }

</script>


                        </div>
                        <table style="width: 100%; margin-left:5px">
                            <tr>
                                <hr style="padding-bottom: 0px; margin: 5px" />
                                <text style="margin-left:10px"><label data-fieldName="DateHeader" class='stylewithHelp' style='font-weight: normal' title='Refine your Structure list results based on the the time-series diversion record data for each Structure'>Having diversion record dates (optional)</label></text>
                            </tr>
                            <tr>
                                <td style="width: 25px; padding-right: 10px">
                                    <label data-fieldName="StartDate" class='stylewithHelp' style='font-weight: normal' title='Beginning Date'>From</label>
                                </td>
                                <td style="width: 75px;">
                                    

<div class="editor-field" style="line-height: 13px;">
    <input class="search-height form-control" data-val="true" data-val-date="The field From must be a date." id="StartDate" name="StartDate" style="width:100px; text-align: center" type="text" value="" />
</div>

<script type="text/javascript">
    $(document).ready(function () {
        var input = $("#StartDate");
        input.datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'mm/dd/yyyy',
            gotoCurrent: true,
            todayHighlight: true,
            autoclose: true,
            orientation: 'bottom',
            startDate: new Date(1800, 0, 1),
            endDate: new Date()
        });
        input.attr('autocomplete', 'off');
    });


</script>

                                </td>
                                <td style="width: 25px; padding-left: 25px; padding-right: 10px">
                                    <label data-fieldName="EndDate" class='stylewithHelp' style='font-weight: normal' title='End Date'>To</label>
                                </td>
                                <td>
                                    

<div class="editor-field" style="line-height: 13px;">
    <input class="search-height form-control" data-val="true" data-val-date="The field To must be a date." id="EndDate" name="EndDate" style="width:100px; text-align: center" type="text" value="" />
</div>

<script type="text/javascript">
    $(document).ready(function () {
        var input = $("#EndDate");
        input.datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'mm/dd/yyyy',
            gotoCurrent: true,
            todayHighlight: true,
            autoclose: true,
            orientation: 'bottom',
            startDate: new Date(1800, 0, 1),
            endDate: new Date()
        });
        input.attr('autocomplete', 'off');
    });


</script>

                                </td>
                        </table>
<script>
    $(document).ready(function () {
        reloadshowHideAdditional(
            document.getElementById('SelectedAdditionalValue')
        );
    })
</script>

<div id="additionalSearch" class="collapse in" style="border-top: 1px solid #eee;">
    <div style="padding: 5px">
        <table style="width:100%;">
            <tr>
                <td><label data-fieldName="SelectedAdditionalValue" class='stylewithHelp' style='font-weight: normal' title='Additional search criteria, ADDED to above filters'>More Options</label></td>
                <td>
                    <select class="search-height form-control" id="SelectedAdditionalValue" name="SelectedAdditionalValue" onchange="showHideAdditional(this);enableButton(&#39;buttonSearch&#39;)" style="width:100%"><option value="">Select</option>
<option value="addressDiv">Address</option>
<option value="caseNumberDiv">Case Number</option>
<option value="coordinatesBufferDiv">Coordinates Buffer</option>
<option value="contactNameDiv">Contact Name</option>
<option value="meterSerialDiv">Meter Serial</option>
<option value="permitNumberDiv">Permit Number</option>
<option value="plssDiv">PLSS</option>
<option value="structureNameDiv">Structure Name</option>
<option value="waterSourceDiv">Water Source</option>
<option value="wdidDiv">WDID</option>
</select>
                </td>
            </tr>
        </table>
    </div>


    <div class="panel-body" style="padding: 0; float: right; margin-bottom: 10px; width: 100%;">
        <div id="addressDiv" class="monoSelectAdd" style="display:none">
            <table style="width: 100%;">
    <tr>
        <td class="search-height">Address</td>
        
    </tr> 
    <tr>
        <td class="search-height">
			<input autocomplete="off" class="search-height form-control text-box single-line" id="AddressSearch_AddressMain" name="AddressSearch.AddressMain" role="combobox" type="text" value="" />
		</td>
        
    </tr>
</table>
<table>
    <tr>
        <td class="search-height">Within</td>
    </tr>
    <tr>
        <td class="search-height"><input autocomplete="off" class="search-height form-control text-box single-line" data-val="true" data-val-number="The field Within must be a number." id="AddressSearch_RadiusSearch" maxlength="10" name="AddressSearch.RadiusSearch" step="0.01" style="width:100px" type="number" value="1.00" /></td>
        <td class="search-height"><select class="search-distance-combo form-control" data-val="true" data-val-required="The Units field is required." id="AddressSearch_Units" name="AddressSearch.Units"><option selected="selected" value="0">Miles</option>
<option value="1">Feet</option>
</select></td>
    </tr>
</table>

<script>
    $(document).ready(function () {
        let promise = setUpGeocompleteOnFocus("AddressSearch_AddressMain");
        promise.done(function (autoCompleteWidget) {
            var a = 5;
        });
    });
    $("#AddressSearch_Units").on("change",
        function() {
            if ($("#AddressSearch_Units option:selected").text() === "Feet") {
                $("#AddressSearch_RadiusSearch").val(500);
            } else {
                $("#AddressSearch_RadiusSearch").val(10);
            }
        });

    $("#AddressSearch_ZipCode").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 5) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 5;
    });
    $("#AddressSearch_RadiusSearch").keypress(function (e) {
        var char;
        if ($("#AddressSearch_Units option:selected").text() === "Feet") {
            char = String.fromCharCode(e.which);
        }

        if (char === ".") {
            return false;
        }

        if (this.value.length <= 4) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 4;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    };

    $("#AddressSearch_RadiusSearch").keyup(function() {
        var val = $(this).val();
        if (isNaN(val)) {
            val = val.replace(/[^0-9\.]/g, "");
            if (val.split('.').length > 2) {
                val = val.replace(/\.+$/, "");
            }
        }
        $(this).val(val);
    });

</script>
        </div>        
        <div id="caseNumberDiv" class="monoSelectAdd" style="display: none">
            <style>
    .MakeTall {
        height: 21.53px;
        width: 70px;
    }
</style>

<table cellspacing="0" cellpadding="0" style="width:100%">
    <tr>
        <td class="search-height"  style="float:right;padding-right:5px"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The Operator field is required." id="CaseNumberSearch_Operator" name="CaseNumberSearch.Operator"><option value="3">Equals</option>
<option selected="selected" value="0">Starts With</option>
<option value="1">Contains</option>
<option value="2">Ends With</option>
</select></td>
        <td class="search-height"  style="width:160px"><input class="search-height form-control text-box single-line" id="CaseNumberSearch_InputString" name="CaseNumberSearch.InputString" style="max-width:155px" type="text" value="" /></td>
    </tr>
</table>
<script>
    $("#WDIDSearch_InputString").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
            <Div style="padding: 0 0 0 5px"> Include Diligence Cases &nbsp;<input data-val="true" data-val-required="The includeDC field is required." id="includeDC" name="includeDC" type="checkbox" value="true" /><input name="includeDC" type="hidden" value="false" /></Div>
        </div>
        <div id="meterSerialDiv" class="monoSelectAdd" style="display: none">
            <style>
    .MakeTall {
        height: 21.53px;
        width: 70px;
    }
</style>

<table cellspacing="0" cellpadding="0" style="width:100%">
    <tr>
        <td class="search-height"  style="float:right;padding-right:5px"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The Operator field is required." id="MeterSerialSearch_Operator" name="MeterSerialSearch.Operator"><option value="3">Equals</option>
<option selected="selected" value="0">Starts With</option>
<option value="1">Contains</option>
<option value="2">Ends With</option>
</select></td>
        <td class="search-height"  style="width:160px"><input class="search-height form-control text-box single-line" id="MeterSerialSearch_InputString" name="MeterSerialSearch.InputString" style="max-width:155px" type="text" value="" /></td>
    </tr>
</table>
<script>
    $("#WDIDSearch_InputString").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
        </div>
        <div id="contactNameDiv" class="monoSelectAdd" style="display: none">
            <style>
    .MakeTall {
        height: 21.53px;
        width: 70px;
    }
</style>

<table cellspacing="0" cellpadding="0" style="width:100%">
    <tr>
        <td class="search-height"  style="float:right;padding-right:5px"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The Operator field is required." id="ContactNameSearch_Operator" name="ContactNameSearch.Operator"><option value="3">Equals</option>
<option selected="selected" value="0">Starts With</option>
<option value="1">Contains</option>
<option value="2">Ends With</option>
</select></td>
        <td class="search-height"  style="width:160px"><input class="search-height form-control text-box single-line" id="ContactNameSearch_InputString" name="ContactNameSearch.InputString" style="max-width:155px" type="text" value="" /></td>
    </tr>
</table>
<script>
    $("#WDIDSearch_InputString").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
        </div>
        <div id="permitNumberDiv" class="monoSelectAdd" style="display:none">
            
<style>
    .nopadding {
        padding: 0 !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
</style>
<div>
    <div class="container-fluid">
        <div class="row">
            
            <div class="col-xs-offset-1 col-sm-offset-1 col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">From</div>
            <div class="col-xs-4 col-sm-4 col-md-6 col-lg-6"><input class="search-height form-control text-box single-line" data-val="true" data-val-number="The field From must be a number." id="PermitNumberSearch_StartPermitNo" name="PermitNumberSearch.StartPermitNo" placeholder="Permit No" style="width:80px" type="number" value="" /></div>
        </div>
        <div class="row" style="padding-top: 5px">
            <div class="col-xs-offset-1 col-sm-offset-1 col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right">To</div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <input class="search-height form-control text-box single-line" data-val="true" data-val-number="The field EndPermitNo must be a number." id="PermitNumberSearch_EndPermitNo" name="PermitNumberSearch.EndPermitNo" style="width:80px" type="number" value="" />
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-left nopadding">(Optional)</div>
        </div>
        <div class="row" style="padding-top: 5px">
            <div class="col-xs-offset-1 col-sm-offset-1 col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right" style="line-height: 1.9em">Suffix</div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The To field is required." id="PermitNumberSearch_SufOperator" name="PermitNumberSearch.SufOperator" style="width:100px;"><option selected="selected" value="0">Equals</option>
<option value="1">Is Empty</option>
<option value="2">Is Not Empty</option>
</select></div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 nopadding"><input class="search-height form-control text-box single-line" id="PermitNumberSearch_Suffix" maxlength="3" name="PermitNumberSearch.Suffix" placeholder="Suffix" style="width:45px; margin-left: 10px;" type="text" value="" /></div>
        </div>
        <div class="row" style="padding-top: 5px">
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right" style="line-height: 1.9em">Replacement</div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The RplOperator field is required." id="PermitNumberSearch_RplOperator" name="PermitNumberSearch.RplOperator" style="width:100px;"><option selected="selected" value="0">Equals</option>
<option value="1">Is Empty</option>
<option value="2">Is Not Empty</option>
</select></div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 nopadding"><input class="search-height form-control text-box single-line" id="PermitNumberSearch_Replacement" maxlength="3" name="PermitNumberSearch.Replacement" placeholder="Rpl" style="width:45px; margin-left: 10px;" type="text" value="" /></div>
        </div>

    </div>
</div>
<script>
    var sufOperator = document.getElementById("PermitNumberSearch_SufOperator");
    var rplOperator = document.getElementById("PermitNumberSearch_RplOperator");
    sufOperator.addEventListener("change",
        function() {
            if (sufOperator.value !== "0")
                //$("#PermitNumberSearch_Suffix").attr("disabled", "disabled");
                //$("#PermitNumberSearch_Suffix").css("display", "none");
            $("#PermitNumberSearch_Suffix").fadeOut("slow", function() {

            });
            else
                //$("#PermitNumberSearch_Suffix").removeAttr("disabled");
               // $("#PermitNumberSearch_Suffix").css("display", "block");
                $("#PermitNumberSearch_Suffix").fadeIn("slow", function() {

                });
        });
    rplOperator.addEventListener("change",
        function() {
            if (rplOperator.value !== "0")
                //$("#PermitNumberSearch_Replacement").attr("disabled", "disabled");
                //$("#PermitNumberSearch_Replacement").css("display", "none");
            $("#PermitNumberSearch_Replacement").fadeOut("slow", function () {

            });
            else
                //$("#PermitNumberSearch_Replacement").removeAttr("disabled");
                //$("#PermitNumberSearch_Replacement").css("display", "block");
                $("#PermitNumberSearch_Replacement").fadeIn("slow", function() {

                });
        });
    $("#PermitNumberSearch_StartPermitNo").keypress(function(e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 9) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 8;
    });
    $("#PermitNumberSearch_EndPermitNo").keypress(function(e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 9) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 8;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }

    $(document).ready(function() {
        if (sufOperator.value !== "0")
            $("#PermitNumberSearch_Suffix").css("display", "none");
        else
            $("#PermitNumberSearch_Suffix").css("display", "block");

        if (rplOperator.value !== "0")
            $("#PermitNumberSearch_Replacement").css("display", "none");
        else
            $("#PermitNumberSearch_Replacement").css("display", "block");
    });
</script>
        </div>
        <div id="plssDiv" class="monoSelectAdd" style="display: none;">
            <div>
    <table>
            <tr>
                <td class="search-height-stacked">Q10</td>
                <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Q10 field is required." id="PlssSearch_Q10" name="PlssSearch.Q10"><option selected="selected" value="0"> </option>
<option value="1">NE</option>
<option value="2">NW</option>
<option value="3">SE</option>
<option value="4">SW</option>
</select></td>
            </tr>
        <tr>
            <td class="search-height-stacked">Q40</td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Q40 field is required." id="PlssSearch_Q40" name="PlssSearch.Q40"><option selected="selected" value="0"> </option>
<option value="1">NE</option>
<option value="2">NW</option>
<option value="3">SE</option>
<option value="4">SW</option>
</select></td>
        </tr>
        <tr>
            <td class="search-height-stacked">Q160</td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Q160 field is required." id="PlssSearch_Q160" name="PlssSearch.Q160"><option selected="selected" value="0"> </option>
<option value="1">NE</option>
<option value="2">NW</option>
<option value="3">SE</option>
<option value="4">SW</option>
</select></td>
        </tr>
        <tr>
            <td class="search-height-stacked">Section</td>
            <td class="search-height-stacked"><input class="search-height form-control text-box single-line" data-val="true" data-val-number="The field SectionValue must be a number." id="PlssSearch_SectionValue" name="PlssSearch.SectionValue" type="number" value="" /></td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Section field is required." id="PlssSearch_Section" name="PlssSearch.Section"><option selected="selected" value="0"> </option>
<option value="1">U</option>
</select></td>
        </tr>
        <tr>
            <td class="search-height-stacked">Township</td>
            <td class="search-height-stacked"><input class="search-height form-control text-box single-line" data-val="true" data-val-number="The field TownshipValue must be a number." id="PlssSearch_TownshipValue" name="PlssSearch.TownshipValue" type="number" value="" /></td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Township field is required." id="PlssSearch_Township" name="PlssSearch.Township"><option value="1">N</option>
<option selected="selected" value="2">S</option>
</select></td>
        </tr>
        <tr>
            <td class="search-height-stacked">Range</td>
            <td class="search-height-stacked"><input class="search-height form-control text-box single-line" data-val="true" data-val-number="The field RangeValue must be a number." id="PlssSearch_RangeValue" name="PlssSearch.RangeValue" type="number" value="" /></td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The Range field is required." id="PlssSearch_Range" name="PlssSearch.Range"><option value="3">E</option>
<option selected="selected" value="4">W</option>
</select></td>

        </tr>
        <tr>
            <td class="search-height-stacked">PM</td>
            <td class="search-height-stacked"><select class="search-direction-combo form-control" data-val="true" data-val-required="The PM field is required." id="PlssSearch_PM" name="PlssSearch.PM"><option value="1">B</option>
<option value="2">C</option>
<option value="3">N</option>
<option selected="selected" value="4">S</option>
<option value="5">U</option>
</select></td>
        </tr>
    </table>

</div>
<script>
    $("#PlssSearch_RangeValue").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 4) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 4;
    });
    $("#PlssSearch_SectionValue").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 2) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 2;
    });
    $("#PlssSearch_TownshipValue").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 4) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 4;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
        </div>
        <div id="structureNameDiv" class="monoSelectAdd" style="display:none">
            <style>
    .MakeTall {
        height: 21.53px;
        width: 70px;
    }
</style>

<table cellspacing="0" cellpadding="0" style="width:100%">
    <tr>
        <td class="search-height"  style="float:right;padding-right:5px"><select class="search-criteria-combo form-control" data-val="true" data-val-required="The Operator field is required." id="StructNameSearch_Operator" name="StructNameSearch.Operator"><option value="3">Equals</option>
<option selected="selected" value="0">Starts With</option>
<option value="1">Contains</option>
<option value="2">Ends With</option>
</select></td>
        <td class="search-height"  style="width:160px"><input class="search-height form-control text-box single-line" id="StructNameSearch_InputString" name="StructNameSearch.InputString" style="max-width:155px" type="text" value="" /></td>
    </tr>
</table>
<script>
    $("#WDIDSearch_InputString").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
            <Div style="padding: 0 0 0 5px">Include Structure AKAs &nbsp;    <input data-val="true" data-val-required="The includeAKA field is required." id="includeAKA" name="includeAKA" type="checkbox" value="true" /><input name="includeAKA" type="hidden" value="false" /></div>
        </div>   
        <div id="waterSourceDiv" class="monoSelectAdd" style="display: none">
            
<select id="WaterSourceMultiSelectSearch_WaterSourceNames" multiple="multiple" name="WaterSourceMultiSelectSearch.WaterSourceNames" style="line-height:1; margin:0 5px 0 5px; font-size:13; height:auto"></select><script>
	kendo.syncReady(function(){jQuery("#WaterSourceMultiSelectSearch_WaterSourceNames").kendoMultiSelect({"noDataTemplate":"Choose Water Division or District Above. GeoLocation selection cannot be \"All\", and cannot be based on County.","popup":{"origin":"bottom left","position":"top left"},"placeholder":"Select"});});
</script>
    <div id="Tributaries" style="text-align: center;">
        <label style="font-weight: normal; margin-bottom: 0 !important; margin-top: 4px; cursor: help;"
               title="Check this to include streams that are tributaries to your selected water source">
            <input data-val="true" data-val-required="The IncludeTributaries field is required." id="WaterSourceMultiSelectSearch_IncludeTributaries" name="WaterSourceMultiSelectSearch.IncludeTributaries" style="vertical-align: text-bottom;" type="checkbox" value="true" /><input name="WaterSourceMultiSelectSearch.IncludeTributaries" type="hidden" value="false" />&nbsp; Include Tributaries
        </label>
    </div>

    <script>

    var pastWaterSourceNames = null;

    $(document).ready(function () {
        setTimeout(function () {
            fillWaterSourceMultiSelect(getBoundary());
        }, 2000);
    });

    $(document).on("change", "#SelectedWaterDivisionId,#SelectedWaterDistrictId, #SelectedGeoValue",function () {

        fillWaterSourceMultiSelect(getBoundary());
    });


    function fillWaterSourceMultiSelect(boundarySelection) {


        var geoSelection = document.getElementById('SelectedGeoValue').value;
        var waterSourceDropdown = $("#WaterSourceMultiSelectSearch_WaterSourceNames").getKendoMultiSelect();

        if (boundarySelection == 0 || !(geoSelection == "waterDivisionDiv" || geoSelection == "waterDistrictDiv")) {
            waterSourceDropdown.dataSource.data([]);
            waterSourceDropdown.value([]);
        } else if (window.location.href.toLowerCase().search("isf") != -1) {
            $.ajax({
                url: '/Tools/ISF/Search/GetISFWaterSourceNames',
                type: "GET",
                dataType: "JSON",
                data: {
                    boundary: boundarySelection,
                    geo: geoSelection
                },
                success: function (result) {
                    var dataSource = new kendo.data.DataSource({
                        data: result
                    });
                    waterSourceDropdown.setDataSource(dataSource);
                    if (pastWaterSourceNames != null) {
                        if (pastGeo == geoSelection && pastBoundary == getBoundary())
                            waterSourceDropdown.value(pastWaterSourceNames);
                    }
                },
                error: function (ex) {
                    alert('Error' + ex);
                    waterSourceDropdown.dataSource.data([]);
                }
            });
        } else {


            $.ajax({
                url: '/Tools/SessionlessSharedResources/GetWaterSourceNamesCallAnalysis',
                type: "GET",
                dataType: "JSON",
                data: {
                    boundary: boundarySelection,
                    geo: geoSelection
                },
                success: function (result) {
                    //console.log(result[0]);
                    var dataSource = new kendo.data.DataSource({
                        data: result[0]
                    });
                    waterSourceDropdown.setDataSource(dataSource);
                    if (pastWaterSourceNames != null) {
                        if (pastGeo == geoSelection && pastBoundary == getBoundary())
                            waterSourceDropdown.value(pastWaterSourceNames);
                    }
                },
                error: function (ex) {
                    alert('Error' + ex);
                    waterSourceDropdown.dataSource.data([]);

                }
            });

        }



    }
    </script>
        </div>
        <div id="wdidDiv" class="monoSelectAdd" style="display: none">                  
               
<table>
    
    <tr>       
        
        <td class="search-height">From</td>
        <td class="search-height"><input class="search-height form-control text-box single-line" id="WDIDSearch_wdidFrom" maxlength="7" name="WDIDSearch.wdidFrom" style="max-width:80px" type="number" value="" /></td> 
        <td class="search-height" style="padding-left:25px">To</td>
        <td class="search-height"><input class="search-height form-control text-box single-line" id="WDIDSearch_wdidTo" name="WDIDSearch.wdidTo" style="max-width:80px" type="number" value="" /></td>
        <td  class="search-height"></td>
        
    </tr>
</table>
<div id="includeAssociatedWaterRights" style="display: none; float: right; padding: 8px 67px 0 0">
    <input data-val="true" data-val-required="The Include Associated Water Rights field is required." id="WDIDSearch_includeAssociatedWaterRights" name="WDIDSearch.includeAssociatedWaterRights" type="checkbox" value="true" /><input name="WDIDSearch.includeAssociatedWaterRights" type="hidden" value="false" />
    Include Associated Water Rights
</div>

<script>
    $("#WDIDSearch_wdidFrom").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });

    $("#WDIDSearch_wdidTo").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 7) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 7;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }


</script>

     
        </div>
        <div id="coordinatesBufferDiv" class="monoSelectAdd" style="display: none">
            <div style="text-align: center">
                UTM&nbsp; <input checked="checked" id="CoordinateSelector" name="CoordinateSelector" type="radio" value="UTM" />&nbsp;&nbsp;
                Lat/Long&nbsp;<input id="CoordinateSelector" name="CoordinateSelector" type="radio" value="Polar" />
            </div>
            <center>
                <table style="width:100%">
                    <tr>
                        <td ID="utmTable">
                            <table>
    <tr>
        <td class="search-height-stacked">UTM Easting (x)</td>
        <td class="search-height-stacked"><input class="search-input form-control text-box single-line" data-val="true" data-val-number="The field UTM Easting (x) must be a number." id="CoordinateBufferUTM_UtmX" maxlength="10" name="CoordinateBufferUTM.UtmX" step="any" type="number" value="" /></td>
    </tr>
    <tr>
        <td class="search-height-stacked">UTM Northing (y)</td>
        <td class="search-height-stacked"><input class="search-input form-control text-box single-line" data-val="true" data-val-number="The field UTM Northing (y) must be a number." id="CoordinateBufferUTM_UtmY" maxlength="10" name="CoordinateBufferUTM.UtmY" step="any" type="number" value="" /></td>
    </tr>
    <tr>
        <td class="search-height-stacked">Within</td>
        <td class="search-height-stacked"><input autocomplete="off" class="search-input form-control text-box single-line" data-val="true" data-val-number="The field Within must be a number." id="CoordinateBufferUTM_RadiusSearch" maxlength="10" name="CoordinateBufferUTM.RadiusSearch" step="0.01" type="number" value="1.00" /></td>
        <td class="search-height-stacked"><select class="search-distance-combo form-control" data-val="true" data-val-required="The Units field is required." id="CoordinateBufferUTM_Units" name="CoordinateBufferUTM.Units"><option selected="selected" value="0">Miles</option>
<option value="1">Feet</option>
</select></td>
    </tr>
</table>

<script>
    $("#CoordinateBufferUTM_Units").on("change",
        function () {
            if ($("#CoordinateBufferUTM_Units option:selected").text() === "Feet") {
                $("#CoordinateBufferUTM_RadiusSearch").val(500);
            } else {
                $("#CoordinateBufferUTM_RadiusSearch").val(10);
            }
        });

    $("#CoordinateBufferUTM_RadiusSearch").keypress(function (e) {
        var char;
        if ($("#CoordinateBufferUTM_Units option:selected").text() === "Feet") {
            char = String.fromCharCode(e.which);
        }

        if (char === ".") {
            return false;
        }

        if (this.value.length <= 4) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 4;
    });
    //$("#CoordinateBufferUTM_RadiusSearch").keypress(function (e) {
    //    var lastInput = String.fromCharCode(e.which);
    //    if (this.value.length <= 4) {
    //        var selectedText = getSelectedText();
    //        if (selectedText) {
    //            return this.value;
    //        }
    //    }
    //    return this.value.length < 4;
    //});
    $("#CoordinateBufferUTM_UtmY").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 10) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 10;
    });
    $("#CoordinateBufferUTM_UtmX").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 10) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 10;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }

    $("#CoordinateBufferUTM_RadiusSearch").keyup(function () {
        var val = $(this).val();
        if (isNaN(val)) {
            val = val.replace(/[^0-9\.]/g, "");
            if (val.split('.').length > 2) {
                val = val.replace(/\.+$/, "");
            }
        }
        $(this).val(val);
    });
</script>
                        </td>
                        <td ID="polarTable" style="display: none">
                            <table>
    <tr>
        <td class="search-height-stacked" style="width: 105.56px">Latitude</td>
        <td class="search-height-stacked"><input class="search-input form-control text-box single-line" data-val="true" data-val-number="The field Latitude must be a number." id="CoordinateBufferPolar_Latitude" maxlength="10" name="CoordinateBufferPolar.Latitude" step="any" type="number" value="" /></td>
    </tr>
    <tr>
        <td class="search-height-stacked" style="width: 105.56px">Longitude</td>
        <td class="search-height-stacked"><input class="search-input form-control text-box single-line" data-val="true" data-val-number="The field Longitude must be a number." id="CoordinateBufferPolar_Longitude" maxlength="11" name="CoordinateBufferPolar.Longitude" step="any" type="number" value="" /></td>
    </tr>
    <tr>
        <td class="search-height-stacked" style="width: 105.56px">Within</td>
        <td class="search-height-stacked"><input autocomplete="off" class="search-input form-control text-box single-line" data-val="true" data-val-number="The field Within must be a number." id="CoordinateBufferPolar_RadiusSearch" maxlength="10" name="CoordinateBufferPolar.RadiusSearch" step="0.01" type="number" value="1.00" /></td>
        <td class="search-height-stacked"><select class="search-distance-combo form-control" data-val="true" data-val-required="The Units field is required." id="CoordinateBufferPolar_Units" name="CoordinateBufferPolar.Units"><option selected="selected" value="0">Miles</option>
<option value="1">Feet</option>
</select></td>
    </tr>
</table>

<script>
    $("#CoordinateBufferPolar_Units").on("change",
        function () {
            if ($("#CoordinateBufferPolar_Units option:selected").text() === "Feet") {
                $("#CoordinateBufferPolar_RadiusSearch").val(500);
            } else {
                $("#CoordinateBufferPolar_RadiusSearch").val(10);
            }
        });

    $("#CoordinateBufferPolar_RadiusSearch").keypress(function (e) {
        var char;
        if ($("#CoordinateBufferPolar_Units option:selected").text() === "Feet") {
            char = String.fromCharCode(e.which);
        }

        if (char === ".") {
            return false;
        }

        if (this.value.length <= 4) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 4;
    });
    //$("#CoordinateBufferPolar_RadiusSearch").keypress(function (e) {
    //    var lastInput = String.fromCharCode(e.which);
    //    if (this.value.length <= 4) {
    //        var selectedText = getSelectedText();
    //        if (selectedText) {
    //            return this.value;
    //        }
    //    }
    //    return this.value.length < 4;
    //});
    $("#CoordinateBufferPolar_Latitude").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 10) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 10;
    });
    $("#CoordinateBufferPolar_Longitude").keypress(function (e) {
        var lastInput = String.fromCharCode(e.which);
        if (this.value.length <= 11) {
            var selectedText = getSelectedText();
            if (selectedText) {
                return this.value;
            }
        }
        return this.value.length < 11;
    });
    function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
            text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
            text = document.selection.createRange().text;
        }
        return text;
    }

    $("#CoordinateBufferPolar_RadiusSearch").keyup(function () {
        var val = $(this).val();
        if (isNaN(val)) {
            val = val.replace(/[^0-9\.]/g, "");
            if (val.split('.').length > 2) {
                val = val.replace(/\.+$/, "");
            }
        }
        $(this).val(val);
    });
</script>
                        </td>
                    </tr>
                </table>
            </center>
        </div>
        
        <div id="validationSummary" display="none">
            <br />
            <div class="validation-summary-valid text-danger" data-valmsg-summary="true"><ul><li style="display:none"></li>
</ul></div>
        </div>
    </div>
    
    <div style="clear: both;"></div>
</div>


<script>
    function showHideAdditional(control) {
        try {
            var cntlArray = document.getElementsByClassName('monoSelectAdd');
            for (i = 0; i < cntlArray.length; i++) {
                if (control.value == cntlArray[i].id){
                    cntlArray[i].style.display = 'block';
                }
                else{
                    cntlArray[i].style.display = 'none';
                }
            }

            $('.datepicker').attr('autocomplete', 'off');
        } catch (err) {
            alert(err);
        }
        refreshGrid();
        document.getElementById('validationSummary').style.display = 'none';
    }

    function resetAdditionalFields() {
    }

    function reloadshowHideAdditional(control) {
        document.getElementById('validationSummary').style.display = "none";
        try {
            var cntlArray = document.getElementsByClassName('monoSelectAdd');
            for (i = 0; i < cntlArray.length; i++) {
                if (control.value == cntlArray[i].id) {
                    cntlArray[i].style.display = 'block';
                    if (control.value == "CoordinatesBufferDiv") {
                        if (document.getElementById('CoordinateBufferUTM_UtmX').value)
                        {
                            //document.getElementById('utmRadio').checked = true;
                            document.getElementById('utmTable').style.display = "block";
                            document.getElementById('polarTable').style.display = "none";

                        } else {

                            //document.getElementById('polarRadio').checked = true;
                            document.getElementById('utmTable').style.display = "none";
                            document.getElementById('polarTable').style.display = "block";

                        }
                    }
                }
                else {
                    cntlArray[i].style.display = 'none';
                }
            }
               if ((false).toString() == 'true') {
                        document.getElementById('validationSummary').style.display = "block";
                    }

        } catch (err) {
            alert(err);
        }
    }
</script>



<script>
    $(document).ready(function()
    {
        showCoordinates();
        $('input[type=radio][name=CoordinateSelector]').change(function () {
            showCoordinates();
        });
    });

function showCoordinates(){
        var buttonSelected;
        var utmTable = document.getElementById('utmTable');
        var polarTable = document.getElementById('polarTable');
        try {
            if ($('input[name=CoordinateSelector]:checked').val() == 'Polar') {
                utmTable.style.display = "none";
                polarTable.style.display = "";
                
            }
            else if ($('input[name=CoordinateSelector]:checked').val() == 'UTM') {
                polarTable.style.display = "none";
                utmTable.style.display = "";
                

            }}catch(err){
            alert(err);
        }
        }
</script>
                        <center>
                            <button id="buttonSearch" type="submit" class="btn-dwr btn-dwr-nograd" name="submitButton" value="Submit" onclick="Clicked(this);  validateAddressRadiusInput(event);" disabled="disabled">Search</button>
                        </center>

                    </div>
                </div>

                
                <div id="additionalResourceContent" class="panel panel-default">
                    <div class="panel-heading panel-heading-search">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" href="#AdditionalResourceDiv">Additional Resources</a>
                        </h4>
                    </div>
                    <div id="AdditionalResourceDiv" class="collapse in">
                        <div style="padding: 10px">
                            <div><a href="https://dwr.colorado.gov/services/water-administration" target="_blank">About Colorado Water Administration</a></div>
                            <div><a href="https://data.colorado.gov/Water/DWR-Administrative-Structures/vz77-kxck" target="_blank">Colorado Information Marketplace</a></div>
                            <div><a href="https://dwr.colorado.gov/services/data-information/gis" target="_blank">DWR Map Viewers</a></div>
                            <div><a href="https://dwr.state.co.us/rest/get/" target="_blank">DWR Web Services</a></div>
                            <div><a href="https://dwr.state.co.us/portal/dwr/index" style="margin-top:5px">DNR Portal</a></div>
                        </div>
                    </div>
                </div>
            </div>
</form>
        <!-- Modal Map Options -->
        <div id="mapOptionsModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->.
                <div class="modal-content" style="max-width: 426px">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" style="text-align: center">Map Options</h4>
                    </div>
                    <div class="modal-body">
                        <style type="text/css">
                            #bootstrapSelectForm .selectContainer .form-control-feedback {
                                right: -15px;
                            }
                        </style>

                        <form id="bootstrapSelectForm" method="post" class="form-horizontal">
                            <div class="form-group">
                                <table align="center">
                                    <tr>
                                        <td style="width: 120px">Label Field</td>
                                        <td>
                                            <select name="label" class="form-control search-height" id="LabelDropdown" style="max-width: 185px">
                                                <option value=""></option>
                                                <option value="ciu_code">CIU Code</option>
                                                <option value="structure_name">Structure Name</option>
                                                <option value="structure_name_label">Structure Name (WDID) (WDID)</option>
                                                <option value="structure_type">Structure Type</option>
                                                <option value="water_source_label">Water Source</option>
                                                <option value="wdid">WDID</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Hover Field</td>

                                        <td>
                                            <select name="hover" class="form-control  search-height" id="Hoverrdropdown" style="max-width: 185px">
                                                <option value=""></option>
                                                <option value="ciu_code">CIU Code</option>
                                                <option value="structure_name">Structure Name</option>
                                                <option value="structure_name_label" selected="selected">Structure Name (WDID) (WDID)</option>
                                                <option value="structure_type">Structure Type</option>
                                                <option value="water_source_label">Water Source</option>
                                                <option value="wdid">WDID</option>
                                            </select>

                                        </td>
                                    </tr>

                                </table>
                            </div>

                            <div class="form-group">
                                <div style="width: 107%; margin: 0; text-align: center;">
                                    <input type="button" value="Apply" data-dismiss="modal" class="btn-dwr" id="ApplyMapRefresh" />
                                    <input type="button" value="Cancel" data-dismiss="modal" class="btn-dwr" id="Cancel">

                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
        
        <div id="loading">
            <div id="loadingcont">
                <p id="loadingspinr">
                </p>
            </div>
        </div>
        <div id="rightSectionContent" style="min-width: 320px; overflow: auto; padding-left: 7px; padding-right: 7px; display:none">


<style>
    .k-ghost-splitbar {
        z-index: 3000 !important;
    }

    #leftSectionContent .panel:last-of-type {
        margin-bottom: 10px;
    }

    .resizableChildren .k-splitbar {
        background-color: #35617e;
        color: white;
    }

        .resizableChildren .k-splitbar .k-resize-handle {
            display: none;
            background-color: transparent;
            color: #35617e;
        }

    tr.k-state-selected a {
        color: white;
    }

    #splitPaneTopBar > * {
        display: inline-block;
    }

    #splitPaneTopBar > .form-control {
        display: inline-block;
        height: auto;
        width: auto;
        padding: initial;
    }

        #splitPaneTopBar > .form-control:not(button) {
            padding: 0px 4px;
        }

    #splitPaneTopBar > button {
        padding: 2px 6px;
    }

        #splitPaneTopBar > button.splitterPaneToggler.off {
            padding: 1px 6px;
            border: 1px solid black;
            background-color: lightgray;
            color: black;
        }

    .splitterPaneToggler.off {
    }

    .splitterPaneToggler:not(:last-of-type) {
        margin-right: 4px;
    }

    .splitterPaneToggler:last-of-type {
        margin-right: 10px;
    }

    .splitterPaneToggler:focus {
        outline: none;
        box-shadow: none;
    }

    #loading {
        z-index: 2500;
    }

    .k-grid .k-selectable {
        cursor: pointer
    }

    .k-grid-header th.k-header > .k-link {
        line-height: 1.2;
    }

    .kendoGridSettingsToolbar .k-dropdown .k-input {
        padding: 0;
    }

    .k-grid .k-grid-toolbar.kendoGridSettingsToolbar, .kendoGridSettingsToolbar {
        padding: 2px 13px 3px 13px;
    }

        .k-grid .k-grid-toolbar.kendoGridSettingsToolbar .k-dropdown .k-select {
            position: absolute;
        }

            .k-grid .k-grid-toolbar.kendoGridSettingsToolbar .k-dropdown .k-select > .k-icon {
                bottom: 10%;
            }

    .k-grid .k-grid-pager select.k-dropdown {
        padding: 0;
        text-align: center;
        text-align-last: center;
    }

    .iconButton {
        margin-left: 4px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }

        .iconButton:hover {
            border-color: #ccc;
            background: #ebebeb;
        }

        .iconButton .k-icon {
            margin: 1px 2px;
        }

            .iconButton .k-icon.k-i-flip-horizontal {
                top: -1px;
            }

            .iconButton .k-icon.k-i-flip-vertical {
                left: 1px;
            }

    #splitPaneLayout option:nth-child(even):not(:hover) {
        background: #e4edff;
    }

    .hideMyChildren > * {
        display: none !important;
    }

    .hideOnOnly.onlyOneSelectedIsTrue {
        display: none !important;
    }

    .k-flip-h-and-rotate-ninety {
        -webkit-transform: scaleX(-1) rotate(90deg);
        -ms-transform: scaleX(-1) rotate(90deg);
        transform: scaleX(-1) rotate(90deg);
    }

    .k-flip-h-and-rotate-neg-ninety {
        -webkit-transform: scaleX(-1) rotate(-90deg);
        -ms-transform: scaleX(-1) rotate(-90deg);
        transform: scaleX(-1) rotate(-90deg);
    }

    .rotate-ninety {
        -webkit-transform: rotate(90deg);
        -ms-transform: rotate(90deg);
        transform: rotate(90deg);
    }

    .rotate-neg-ninety {
        -webkit-transform: rotate(-90deg);
        -ms-transform: rotate(-90deg);
        transform: rotate(-90deg);
    }

    .iconButton img {
        margin: 2px;
    }

    .k-loading-mask {
        z-index: 2400;
    }

        .k-loading-mask .k-loading-image {
            z-index: 2400;
        }

    #splitPaneTopBar > * {
        vertical-align: top;
    }

    #splitPaneTopBar > .iconButton {
        line-height: 1;
    }

    .leaflet-control-layers-list > .buttonForLayerToLoad {
        width: calc(100% - 36px);
    }

    .resizableChildren.k-splitter .k-splitbar .k-icon {
        font-size: 13px;
    }

    .resizableChildren.k-splitter .k-splitbar-vertical .k-icon {
        height: 13px;
        transform: scale(2.4, 1.2);
    }

    .resizableChildren.k-splitter .k-splitbar-horizontal .k-icon {
        width: 13px;
        transform: scale(1.2, 2.4);
    }

    .resizableChildren.k-splitter .k-splitbar-vertical, .resizableChildren.k-splitter .k-ghost-splitbar-vertical {
        height: 8px;
    }

    .resizableChildren.k-splitter .k-splitbar-horizontal, .resizableChildren.k-splitter .k-ghost-splitbar-horizontal {
        width: 8px;
    }
</style>

<style>
    .onoffswitch {
        position: relative;
        width: 59px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }

    .onoffswitch-checkbox {
        display: none;
    }

    .onoffswitch-label {
        display: block;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid #999999;
        border-radius: 16px;
    }

    .onoffswitch-inner, .showhideswitch-inner {
        display: block;
        width: 200%;
        margin-left: -100%;
        transition: margin 0.3s ease-in 0s;
    }

        .onoffswitch-inner:before, .onoffswitch-inner:after, .showhideswitch-inner:before, .showhideswitch-inner:after {
            display: block;
            float: left;
            width: 50%;
            height: 16px;
            padding: 0;
            line-height: 16px;
            font-size: 14px;
            color: white;
            font-family: Trebuchet, Arial, sans-serif;
            font-weight: bold;
            box-sizing: border-box;
        }

        .onoffswitch-inner:before {
            content: "ON";
            padding-left: 12px;
            background-color: #009439;
            color: #FFFFFF;
        }

        .onoffswitch-inner:after {
            content: "OFF";
            padding-right: 10px;
            background-color: #EEEEEE;
            color: #999999;
            text-align: right;
        }

    .showhideswitch {
        position: relative;
        width: 75px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }

    .showhideswitch-inner:before {
        content: "SHOWN";
        padding-left: 8px;
        background-color: #009439;
        color: #FFFFFF;
    }

    .showhideswitch-inner:after {
        content: "HIDDEN";
        padding-right: 7px;
        background-color: #EEEEEE;
        color: #999999;
        text-align: right;
    }

    .onoffswitch-switch {
        display: block;
        width: 10px;
        margin: 3px;
        background: #FFFFFF;
        position: absolute;
        top: 0;
        bottom: 0;
        right: 39px;
        border: 2px solid #999999;
        border-radius: 16px;
        transition: all 0.3s ease-in 0s;
    }

    .showhideswitch-switch {
        display: block;
        width: 10px;
        margin: 3px;
        background: #FFFFFF;
        position: absolute;
        top: 0;
        bottom: 1px;
        right: 55px;
        border: 2px solid #999999;
        border-radius: 16px;
        transition: all 0.3s ease-in 0s;
    }

    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner, .onoffswitch-checkbox:checked + .onoffswitch-label .showhideswitch-inner {
        margin-left: 0;
    }

    .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch, .onoffswitch-checkbox:checked + .onoffswitch-label .showhideswitch-switch {
        right: 3px;
    }

    #showHideTable td {
        padding: 0;
    }

    #searchDisplayOptions label {
        margin: 0;
    }

    .resizableChildren .hideLoadingBarForNow .k-loading-mask {
        display: none;
    }
</style>
<script>
    $(window).on("resize", function (e) {
        if (typeof window.pageResize === "function") {
            window.pageResize.apply(this, arguments);
        }
    });

	$(document).ready(function() {
        const localStoragePropertyName = getKendoWidgetForMapJQuerySelector() + "_panesPref";
		window.getSavedPanesInfo = function() {
            try {
                let item = localStorage.getItem(localStoragePropertyName);
                if (item != null && item.length > 0) {
                    return JSON.parse(item);
                }
            }
            catch (e) {
                console.log("Error using localStorage");
                console.log(e);
            }
            if (typeof window.getDefaultSavedPanesWindows === "function") {
                return window.getDefaultSavedPanesWindows();
            }
            return null;
        }
        window.savePanesInfo = function () {
            let elem = $(".resizableChildren");
            if (elem.length > 0 && storageAvailable("localStorage")) {
                let splitter = elem.data("kendoSplitter");
                let paneOpts = splitter.options.panes;
                let panes = elem.find(">.k-pane");
                let paneInfos = {};
                let paneSizes = [];
                let totalPaneSize = 0;
                for (let i = 0; i < paneOpts.length; i++) {
                    let paneOpt = paneOpts[i];
                    let name = $(panes[i]).attr("data-pane-name");
                    if (name != null) {
                        let size = parseInt(paneOpt.size);
                        paneInfos[name] = { ord: i, clpsd: paneOpt.collapsed };
                        if (isNaN(size)) totalPaneSize = null;
                        else {
                            totalPaneSize += size;
                            paneSizes.push({ name: name, size: size });
                        }
                    }
                }
                for (let i = 0; i < paneSizes.length; i++) {
                    let paneSize = paneSizes[i];
                    if (paneSize.name != null && paneSize.size != null) {
                        let size = (paneSize.size / totalPaneSize) * 100;
                        paneInfos[paneSize.name].size = size.toFixed(3) + "%";
                    }
                }
                try {
                    localStorage.setItem(localStoragePropertyName, JSON.stringify(paneInfos));
                }
                catch (e) {
                    console.log("Error using localStorage");
                    console.log(e);
                }
            }
		}
	});
	$(document).ready(function() {
		const topBottom = false;
		const leftRight = true;
        const autoBasedOnWindowSize = null;
        const useSplitPaneHeightAndWidth = true;
        const autoResizeHeightModifier = 1.25;
        //Returns true if the width is significantly larger than the height;
        const autoResizeShouldSplitHorizontalFunc = function (width, height) {
            return height * autoResizeHeightModifier < width;
        }
        const notAnOrientation = "I'm definitely not an orientation";
        const localStoragePropertyName = getKendoWidgetForMapJQuerySelector() + "_orientationPref";
        let orientation = (storageAvailable("localStorage") && localStorage.hasOwnProperty(localStoragePropertyName)
            ? JSON.parse(localStorage.getItem(localStoragePropertyName))
            : notAnOrientation
        );
        if (orientation !== topBottom && orientation !== leftRight && orientation !== autoBasedOnWindowSize) orientation = topBottom;
        else {
            let dict = {};
            dict[topBottom] = "topbottom";
            dict[leftRight] = "leftright";
            dict[autoBasedOnWindowSize] = "basedonscreen";
            $("#splitPaneLayout").val(dict[orientation]);
        }
        let setLocalStorageOrientation = function () {
            try {
                if (storageAvailable("localStorage")) {
                    localStorage.setItem(localStoragePropertyName, JSON.stringify(orientation))
                }
            }
            catch (e) {
                console.log("Error using localStorage");
                console.log(e);
            }
        };
        let onOrientationChange = function () {
            let useSpinner = false && typeof loadSpinner === "function" && typeof stopSpinner === "function";
            if (useSpinner)  {
				loadSpinner();
				setTimeout(function () {
					setUpSplitter();
					if (useSpinner) stopSpinner();
				}, 150);
			}
			else {
				setUpSplitter();
			}
            setLocalStorageOrientation();
        }
        window.toggleSplitOrientationTopBottomToLeftRight = function () {
            orientation = orientation == topBottom ? leftRight : topBottom;
            onOrientationChange();
		}
		window.getSplitOrientationIsTopBottom = function() {
            return orientation === topBottom;
		}
		window.getSplitOrientationIsLeftRight = function() {
            return orientation === topBottom;
		}
		window.setSplitOrientationTopBottom = function() {
            orientation = topBottom;
            onOrientationChange();
		}
		window.setSplitOrientationLeftRight = function() {
			orientation = leftRight;
            onOrientationChange();
		}
		window.setSplitOrientationBasedOnWindowSize = function() {
			orientation = autoBasedOnWindowSize;
            onOrientationChange();
        }
        window.shouldAllowManualOrientationChange = function (widthToUse, heightToUse) {
            if (checkIfClientIsMobile()) return false;
            let minValueToAllow = 350;
            if (widthToUse == null || isNaN(widthToUse) || heightToUse == null || isNaN(heightToUse)) {
                if (useSplitPaneHeightAndWidth === true) {
                    let elem = $(".resizableChildren");
                    widthToUse = elem.width();
                    heightToUse = elem.height();
                }
                else {
                    minValueToAllow = 711;
                    widthToUse = window.innerWidth;
                    heightToUse = window.innerHeight;
                }
            }
            let allow = widthToUse >= minValueToAllow && heightToUse >= minValueToAllow;
            return allow;
        }
        window.shouldSplitHorizontal = function (widthToUse, heightToUse) {
            let winHeight = window.innerHeight;
            let winWidth = window.innerWidth;
            if (orientation !== autoBasedOnWindowSize && window.shouldAllowManualOrientationChange(widthToUse, heightToUse)) {
				return orientation;
            }
            widthToUse = parseFloat(widthToUse);
            heightToUse = parseFloat(heightToUse);
            if (!isNaN(widthToUse) && !isNaN(heightToUse)) {
                return autoResizeShouldSplitHorizontalFunc(widthToUse, heightToUse);
            }
            if (useSplitPaneHeightAndWidth === true) {
                let elem = $(".resizableChildren");
                let width = elem.width();
                let height = elem.height();
                return autoResizeShouldSplitHorizontalFunc(width, height);
            }
            return autoResizeShouldSplitHorizontalFunc(winWidth, winHeight);
        };
	});
</script>

<div id="splitPaneTopBar" style="width: 100%; margin: 0px 0px 2px 0px; position: relative; ">
    
    <button id="expandDiv" class="expand" style="display: none; margin-right: 10px; ">>></button>
        <span style="cursor: pointer" class="k-link iconButton hideOnOnly splitPaneLayoutHider"><input id="splitPaneLayout" style="display: none !important;" /><img style="font-size: 16px;width: 1em;" src="/Tools/Images/rotate.png" alt="Switch panel orientation"/></span>
    </div>
<div class="resizableChildren" style="display: inline-block; width: 100%; height: 100%; max-height: 100%">
    
    <div id="mapResults" class="hideMyChildren" data-pane-name="Map">


<div id="map" style="width:100%; height: 100%; min-height: inherit; padding: 5px; alignment: center"></div><div id='loading'><div id='loadingcont'><p id='loadingspinr'>
                                                                                                                 Refreshing Map...</p></div></div><style>
    #layerControl li {
        list-style-type: none;
        padding-left: 3px;
    }

    #layerControl ul {
        padding-left: 1.5rem;
    }

    #layerControl .layerParent .layerParent {
        margin-left: -1rem;
    }

    #layerControl label {
        font-weight: normal;
        padding: 0;
        margin: 0;
    }

    #layerControl .expanderLeft {
        width: 0.7rem;
        display: inline-block;
        text-align: center;
    }

    #layerControl {
        font-family: Roboto, Arial, sans-serif;
        background: #fff;
        padding: 10px;
        font-size: 15px;
        min-height: 40px;
        margin-top: 10px;
    }


    .leaflet-tooltip.hidden-background-tooltip {
        background-color: transparent;
        border: transparent;
        box-shadow: none;
        font-weight: bold;
    }

    .leaflet-tooltip.dist-tooltip {
        color: blue;
        font-size: 90%;
    }

    .leaflet-tooltip.div-tooltip {
        color: green;
    }

    .leaflet-tooltip.county-tooltip {
        color: #a3a300;
        /*color: #d7d700;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000*/
    }


    @media (min-width: 710px) {
        .leaflet-popup-content table {
            min-width: 350px;
        }
    }

    @media (max-width: 709px) {
        .leaflet-popup {
            max-width: 75vw;
            overflow-x: scroll;
        }

        .leaflet-popup-content {
            max-width: 75vw;
            max-height: 50vh;
            overflow-x: scroll;
        }
    }

    .leaflet-popup-content select.form-control.search-height {
        display: inline-block;
    }


    .leaflet-layerstree-header label {
        font-weight: normal;
        margin-bottom: 3px;
    }

    input.leaflet-control-layers-selector {
        margin-right: 3px;
        margin-top: 1px;
    }

    .leaflet-control-layers-expanded .leaflet-control-layers-overlays {
        padding-top: 3px;
        padding-bottom: 3px;
    }

    .leaflet-top.leaflet-left {
        z-index: 1001;
    }

    .leaflet-tooltip.hidden-background-tooltip {
        background-color: transparent;
        border: transparent;
        box-shadow: none;
        font-weight: bold;
    }

        .leaflet-tooltip.hidden-background-tooltip.leaflet-tooltip-top {
            padding-bottom: 0;
        }

        .leaflet-tooltip.hidden-background-tooltip:before {
            border-color: transparent;
        }

    .leaflet-tooltip.hidden-background-tooltip {
        color: #000;
        text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
    }


    .whitelabel .leaflet-tooltip.hidden-background-tooltip {
        color: #fff;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
    }

    .dropdown-menu {
        z-index: 1050;
    }

    .leaflet-control-layers-expanded.useManualExpanding:not(.manualExpanded) {
        padding: 0;
    }

        .leaflet-control-layers-expanded.useManualExpanding:not(.manualExpanded) .leaflet-control-layers-toggle {
            display: block;
        }

        .leaflet-control-layers-expanded.useManualExpanding:not(.manualExpanded) .leaflet-control-layers-list {
            display: none;
        }

    .leaflet-control-layers.useManualExpanding.manualExpanded .leaflet-control-layers-toggle {
        display: none;
    }

    .leaflet-control-layers.useManualExpanding.manualExpanded {
        padding: 6px 10px 6px 6px;
    }

        .leaflet-control-layers.useManualExpanding.manualExpanded .leaflet-control-layers-list {
            display: block;
        }

    .leaflet-control-layers-expanded.useManualExpanding.manualExpanded .leaflet-control-layers-overlays {
        padding-top: 0;
        padding-bottom: 0;
    }

    .leaflet-control-layers-separator + .leaflet-control-layers-separator {
        display: none;
    }

    .leaflet-control-layers-list {
        min-height: 40px;
    }
	
	#legend div {
		cursor: pointer;
	}
</style>

<link href='/Tools/Leaflet/leaflet.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/leaflet.fullscreen.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/L.Control.Layers.Tree.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/MarkerCluster.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/MarkerCluster.default.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/Control.Geocoder.css?v=06-25-2024_1425' rel='stylesheet'/>
<link href='/Tools/Leaflet/leaflet.zoomhome.css?v=06-25-2024_1425' rel='stylesheet'/>

<script src='/Tools/js/map-icons.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/leaflet.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/L.Label.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/L.LatLng.UTM.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/esri-leaflet.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/leaflet.fullscreen.min.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/L.Control.Layers.Tree.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/leaflet.markercluster.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/rbush.min.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/leaflet-markers-canvas.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/L.ZoomBasedLayerGroup.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/L.ToggleableClusterAndZoomBasedLayer.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/leaflet.zoomhome.min.js?v=06-25-2024_1425'></script>
<script src='/Tools/Leaflet/Control.Geocoder.js?v=06-25-2024_1425'></script>
<script src='/Tools/js/MapUtilsLeaflet.js?v=06-25-2024_1425'></script>

<div id="legend"><h5 style="margin-top: 0">Legend</h5></div>
<div id="legendCollapsed"><h5 style="margin:0"><a href="#" style="color: rgb(86, 86, 86); line-height: 1.5em;">Show Legend</a></h5></div>
<script>
    $(document).on("click", "#legendCollapsed a", function (e) {
        showLegend(true);
        e.preventDefault();
    });
    $(document).on("click", "#legend a", function (e) {
        showLegend(false);
        e.preventDefault();
    });
</script>

<script>
    window.getDivisionsUrl = function () { return "/Tools/Gis/GetDivisions" };
    window.getDistrictsUrl = function () { return "/Tools/Gis/GetDistricts" };
    window.getCountiesUrl = function () { return "/Tools/Gis/GetCounties" };
    window.runWithGisToken = (function () {
        let isRunning = false;
        let queue = [];
        return function (functionWithTokenArg) {
            if (isRunning == true) {
                queue.push(functionWithTokenArg);
                return;
            }
            // This is absolutely, ridiculously insecure, it hurt me to write it, and we need to find a better way, but this will at least get us through the demo
            var tokenToPass = Number(localStorage.tokenExp) >= new Date().getTime() ? localStorage.token : null;
            if (tokenToPass == null) {
                isRunning = true;
                $.ajax({
                    url: '/Tools/Gis/GetGisToken',
                    type: "GET",
                    success: function (result) {
                        try {
                            var json = typeof result === "string" ? JSON.parse(result) : result;
                            tokenToPass = json.token;
                            localStorage.token = tokenToPass;
                            localStorage.tokenExp = getDate(json.expires).getTime();

                            functionWithTokenArg(tokenToPass);

                            while (queue.length > 0) {
                                var func = queue.shift();
                                if (typeof func === "function") {
                                    func(tokenToPass);
                                }
                            }
                        }
                        catch (e) {

                        }
                        isRunning = false;
                    },
                    error: function (ex) {
                        isRunning = false;
                    }
                });
            }
            else {
                functionWithTokenArg(tokenToPass);
            }
        }
    }());
</script>


<script type="text/javascript"
        src="/Tools/Scripts/spin.min.js"></script>

<script type="text/javascript">
    var map = null;
    var initialLoad = true;
    var mapCenterLat = 0;
    var mapCenterLong = 0;
    var ifRadiusSelectedCenterLat = '';
    var ifRadiusSelectedCenterLong = '';
    var dataSetName = '';
    var mapLegend = null;
    var clusterOptions = {
        zoomOnClick: true, maxZoom: 10, minZoom: 6, gridSize: 50, minimumClusterSize: 2, imagePath: 'https://raw.githubusercontent.com/googlemaps/js-marker-clusterer/gh-pages/images/m' }; // Define the marker clusterer options
    var clusterByDefault = true;
    var zoomToStateOnLoad = true;
    //Center on Denver if no criteria
    if (mapCenterLat == 0 && mapCenterLong == 0) {
        mapCenterLat = 39.7392;
        mapCenterLong = -104.9903;
    }

    function getMapData() {
        let data = {"Features":[],"BoundingBoxes":null,"CRS":{"Properties":{"name":"urn:ogc:def:crs:OGC::CRS84"},"Type":1},"Type":8};
        if (data.Features == null || data.Features.length < 1) {
            data = { Features: (typeof window.getGridData === "function" ? window.getGridData() : []) };
        }
        return data;
    }

    (function () {
        let count = 0;
        let init = false;
        $(document).on("mapWidgetFilterChanged", function () {
            count = -1;
        });
        window.initialize = function() {
            let data = getMapData();
            if (count != data.Features.length || !init) {
                count = data.Features.length;
                init = true;
                initMap(data, mapCenterLat, mapCenterLong, 'map', 7);
            }
        }
        window.reinitializeMap = function() {
            let data = getMapData();
            count = data.Features.length;
            init = true;
            initMap(data, mapCenterLat, mapCenterLong, 'map', 7);
        }
    }());
    function getMinUnclusteredMarkerZoom() {
        return 11;
    }
    function getMaxUnclusteredMarkerZoom() {
        return null;
    }
</script>

<script type="text/javascript" src="/Tools/js/map-icons.js"></script>
<style>
    #legend {
        font-family: Arial, sans-serif;
        background: #fff;
        padding: 10px;
        margin: 10px;
        border: 1px solid #000;
        display: none;
    }

    #legendCollapsed {
        display: none;
        font-family: Roboto, Arial, sans-serif;
        background: #fff;
        padding: 10px;
        font-size: 18px;
        margin-top: 10px;
    }

    .leaflet-left:first-of-type > * {
        display: inline-block;
        float: none;
    }

    @media only screen and (max-width: 321px) {
        .mobile-line-height {
            /*width: 235px;
            line-height: .6em;*/
        }
    }

    #mapOptions {
        font-family: Arial, sans-serif;
        background: #fff;
        padding: 10px;
        margin-left: 10px;
        border: 1px solid #000;
    }
</style>
    </div>
    
    <div id="dataGridResults" class="hideMyChildren" data-pane-name="Table">

<style>
    /*Darker font on record count at bottom of table*/
    .k-pager-info {
        color: black;
    }

    .k-grid-header .k-header {
        overflow: visible !important;
        white-space: normal !important;
        font-size: 10px;
        text-align: center;
    }
    .k-grid {
        font-size: 10px;
        width: 100%;
    }
    .k-grid td {
        white-space: nowrap;
    }
    .k-grid.k-grid-stretch-height-full {
        height: calc(100% - 90px) !important;
    }
    .k-grid.k-grid-stretch-height-full.k-grid-content {
        height: calc(100% - 103px) !important;
    }
    .k-grid.k-grid-stretch-height-nogroup {
        height: calc(100% - 90px) !important;
    }
    .k-grid.k-grid-stretch-height-nogroup.k-grid-content {
        height: calc(100% - 72px) !important;
    }
    .k-grid.k-grid-stretch-height-simple {
        height: calc(100% - 90px) !important;
    }
    .k-grid.k-grid-stretch-height-simple.k-grid-content {
        height: calc(100% - 37px) !important;
    }
    /*.k-grid-content {
        height: calc(100% - 103px) !important;
    }*/
    .k-pager-wrap .k-dropdown {
        width: 60px;
    }
</style>
<input data-val="true" data-val-number="The field Count must be a number." data-val-required="The Count field is required." id="StructureSearchResult_Count" name="StructureSearchResult.Count" type="hidden" value="0" />
<div class="k-widget k-grid" id="StructuresGrid"><div class="k-grid-header"><div class="k-grid-header-wrap"><table><colgroup><col style="width:55px" /><col style="width:54px" /><col style="width:97px" /><col style="width:165px" /><col style="width:121px" /><col style="width:100px" /><col style="width:64px" /><col style="width:81px" /><col style="width:81px" /><col style="width:81px" /><col style="width:72px" /><col style="width:72px" /><col style="width:45px" /><col style="width:43px" /><col style="width:72px" /><col style="width:81px" /><col style="width:81px" /><col style="width:45px" /><col style="width:45px" /><col style="width:54px" /><col style="width:67px" /><col style="width:72px" /><col style="width:56px" /><col style="width:45px" /><col style="width:71px" /><col style="width:72px" /><col style="width:71px" /><col style="width:72px" /><col style="width:56px" /><col style="width:64px" /><col style="width:69px" /><col style="width:77px" /><col style="width:147px" /><col style="width:72px" /></colgroup><thead class="k-grid-header"><tr><th class="k-header" data-field="viewLinkWDID" data-index="0" data-title=" " id="9f4e3a7a-4393-4088-a8e7-7b7b14635a60" scope="col"><span class="k-link"> </span></th><th class="k-header" data-field="wdid" data-index="1" data-title="&lt;span title=&#39;DWR unique structure identifier&#39;>WDID&lt;/span>" id="c19801d9-9e27-470e-9a8a-f1e462c333f1" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=wdid-asc"><span title='DWR unique structure identifier'>WDID</span></a></th><th class="k-header" data-field="structure_name" data-index="2" data-title="&lt;span title=&#39;Name of Structure&#39;>Structure Name&lt;/span>" id="da76d6a7-8702-4abc-8140-3b2d556519cf" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=structure_name-asc"><span title='Name of Structure'>Structure Name</span></a></th><th class="k-header" data-field="associated_akas" data-index="3" data-title="&lt;span title=&#39;Alternate names for structure&#39;>Structure Name AKAs&lt;/span>" id="88bf32ad-5810-46bf-8f5a-c03baa702fb0" scope="col" style="display:none"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=associated_akas-asc"><span title='Alternate names for structure'>Structure Name AKAs</span></a></th><th class="k-header" data-field="ciu_code" data-index="4" data-title="&lt;span title=&#39;Current in use code of structure&#39;>CIU Code&lt;/span>" id="3e84b994-695f-4f5b-b6a0-85db46615f0a" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=ciu_code-asc"><span title='Current in use code of structure'>CIU Code</span></a></th><th class="k-header" data-field="structure_type" data-index="5" data-title="&lt;span title=&#39;Type of structure&#39;>Structure Type&lt;/span>" id="49b65295-1654-4ea2-888c-7d19c6de5f0c" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=structure_type-asc"><span title='Type of structure'>Structure Type</span></a></th><th class="k-header" data-field="water_source" data-index="6" data-title="&lt;span title=&#39;Name of the water source as specified in the court case&#39;>Water Source&lt;/span>" id="b67eac77-f64e-4122-b1fc-27f2dc08787e" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=water_source-asc"><span title='Name of the water source as specified in the court case'>Water Source</span></a></th><th class="k-header" data-field="gnis_id" data-index="7" data-title="&lt;span title=&#39;National Hydrographic Dataset stream identifier&#39;>GNIS ID&lt;/span>" id="d990fcd9-1a06-4b46-82ed-5d536d7b264b" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=gnis_id-asc"><span title='National Hydrographic Dataset stream identifier'>GNIS ID</span></a></th><th class="k-header" data-field="stream_mile" data-index="8" data-title="&lt;span title=&#39;Distance in miles to the location downstream where the stream became a tributary to a larger stream.  On the main stem, it is the distance to the state line.&#39;>Stream Mile&lt;/span>" id="1a3a267c-5b29-4645-9890-b6c48369fcee" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=stream_mile-asc"><span title='Distance in miles to the location downstream where the stream became a tributary to a larger stream.  On the main stem, it is the distance to the state line.'>Stream Mile</span></a></th><th class="k-header" data-field="associated_case_numbers" data-index="9" data-title="&lt;span title=&#39;Water court case number(s) associated with water right&#39;>Associated Case Numbers&lt;/span>" id="131e82af-c369-41fe-b944-6b2227b5719a" scope="col" style="display:none"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=associated_case_numbers-asc"><span title='Water court case number(s) associated with water right'>Associated Case Numbers</span></a></th><th class="k-header" data-field="associated_permits" data-index="10" data-title="&lt;span title=&#39;List of well permits associated with WDID&#39;>Associated Permits&lt;/span>" id="2d0b94e6-24d0-4496-bff8-83761c982bdc" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=associated_permits-asc"><span title='List of well permits associated with WDID'>Associated Permits</span></a></th><th class="k-header" data-field="associated_meters" data-index="11" data-title="&lt;span title=&#39;List of meters associated with WDID&#39;>Associated Meters&lt;/span>" id="7e67c14e-ff95-4609-9e1c-5fe300f0e332" scope="col" style="display:none"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=associated_meters-asc"><span title='List of meters associated with WDID'>Associated Meters</span></a></th><th class="k-header" data-field="associated_contacts" data-index="12" data-title="&lt;span title=&#39;Contacts associated with structure&#39;>Contacts&lt;/span>" id="81de2009-e110-47a8-97bc-7f80ea81edba" scope="col" style="display:none"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=associated_contacts-asc"><span title='Contacts associated with structure'>Contacts</span></a></th><th class="k-header" data-field="subdistrict" data-index="13" data-title="&lt;span title=&#39;Well Association&#39;>User Assocation&lt;/span>" id="27279657-b453-4b72-a206-bbe11572d022" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=subdistrict-asc"><span title='Well Association'>User Assocation</span></a></th><th class="k-header" data-field="por_start" data-index="14" data-title="&lt;span title=&#39;Date of first measurement in the wellâ€™s period of record&#39;>POR Start&lt;/span>" id="7680ba74-f652-41ad-9556-4bf34ac2326a" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=por_start-asc"><span title='Date of first measurement in the wellâ€™s period of record'>POR Start</span></a></th><th class="k-header" data-field="por_end" data-index="15" data-title="&lt;span title=&#39;Date of last measurement in the wellâ€™s period of record&#39;>POR End&lt;/span>" id="a6234456-7487-43b3-a129-ab514843a8a2" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=por_end-asc"><span title='Date of last measurement in the wellâ€™s period of record'>POR End</span></a></th><th class="k-header" data-field="div" data-index="16" data-title="&lt;span title=&#39;DWR Water Division&#39;>Div&lt;/span>" id="e1713f85-4e26-484a-9c2f-f4bee46ce541" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=div-asc"><span title='DWR Water Division'>Div</span></a></th><th class="k-header" data-field="wd" data-index="17" data-title="&lt;span title=&#39;DWR water district&#39;>WD&lt;/span>" id="5e03ebd0-fdcd-4768-b1a4-ef397b74ea22" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=wd-asc"><span title='DWR water district'>WD</span></a></th><th class="k-header" data-field="county" data-index="18" data-title="&lt;span title=&#39;County where the structure is located&#39;>County&lt;/span>" id="7f373cdb-0d7b-42e0-99e8-a25909f50edf" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=county-asc"><span title='County where the structure is located'>County</span></a></th><th class="k-header" data-field="designated_basin_name" data-index="19" data-title="&lt;span title=&#39;Designated basin where structure is located&#39;>Designated Basin&lt;/span>" id="c9881cdb-d138-4c6d-813f-62ee885b4328" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=designated_basin_name-asc"><span title='Designated basin where structure is located'>Designated Basin</span></a></th><th class="k-header" data-field="management_district_name" data-index="20" data-title="&lt;span title=&#39;Thirteen local districts, within the Designated Basins, with additional administrative authority&#39;>Management District&lt;/span>" id="cc1b9b52-0dc2-491c-8ad1-57a751ad5abe" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=management_district_name-asc"><span title='Thirteen local districts, within the Designated Basins, with additional administrative authority'>Management District</span></a></th><th class="k-header" data-field="q10" data-index="21" data-title="&lt;span title=&#39;Legal location: 10 acre quarter section&#39;>Q10&lt;/span>" id="5279281f-c9a6-49ad-ac01-af63de89a45e" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=q10-asc"><span title='Legal location: 10 acre quarter section'>Q10</span></a></th><th class="k-header" data-field="q40" data-index="22" data-title="&lt;span title=&#39;Legal location: 40 acre quarter section&#39;>Q40&lt;/span>" id="1a263d86-e49f-458f-a18c-584d7d218532" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=q40-asc"><span title='Legal location: 40 acre quarter section'>Q40</span></a></th><th class="k-header" data-field="q160" data-index="23" data-title="&lt;span title=&#39;Legal location: 160 acre quarter section&#39;>Q160&lt;/span>" id="7ff6ed42-5557-4735-873c-7bec179cfc4f" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=q160-asc"><span title='Legal location: 160 acre quarter section'>Q160</span></a></th><th class="k-header" data-field="section" data-index="24" data-title="&lt;span title=&#39;Legal location - section number&#39;>Section&lt;/span>" id="2400bde5-3ca0-4aae-ad7e-a08cceaeb51f" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=section-asc"><span title='Legal location - section number'>Section</span></a></th><th class="k-header" data-field="township" data-index="25" data-title="&lt;span title=&#39;Legal location: Township number and direction&#39;>Township&lt;/span>" id="130b8ea7-1d49-4503-aeb0-a78ddf551339" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=township-asc"><span title='Legal location: Township number and direction'>Township</span></a></th><th class="k-header" data-field="range" data-index="26" data-title="&lt;span title=&#39;Legal location - range&#39;>Range&lt;/span>" id="22f537b4-db25-4ea9-bcb1-f63449e8fb42" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=range-asc"><span title='Legal location - range'>Range</span></a></th><th class="k-header" data-field="pm" data-index="27" data-title="&lt;span title=&#39;Principal Meridian&#39;>PM&lt;/span>" id="13707356-dde3-4f84-9b52-565054bd5eab" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=pm-asc"><span title='Principal Meridian'>PM</span></a></th><th class="k-header" data-field="coordsew" data-index="28" data-title="&lt;span title=&#39;Distance and direction from East/West section line (feet)&#39;>Distance E/W&lt;/span>" id="6a4c69b2-751e-46c7-ae69-2ea7bd18b56f" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=coordsew-asc"><span title='Distance and direction from East/West section line (feet)'>Distance E/W</span></a></th><th class="k-header" data-field="coordsew_dir" data-index="29" data-title="&lt;span title=&#39;Direction of measurement from East/West section line&#39;>Direction E/W&lt;/span>" id="bd58068a-f85e-477f-8164-ed6ec8e4c170" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=coordsew_dir-asc"><span title='Direction of measurement from East/West section line'>Direction E/W</span></a></th><th class="k-header" data-field="coordsns" data-index="30" data-title="&lt;span title=&#39;Distance and direction from North/South section line (feet)&#39;>Distance N/S&lt;/span>" id="df83796c-8add-413a-94d6-90aaec6c84c8" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=coordsns-asc"><span title='Distance and direction from North/South section line (feet)'>Distance N/S</span></a></th><th class="k-header" data-field="coordsns_dir" data-index="31" data-title="&lt;span title=&#39;Direction of measurement from North/South section line&#39;>Direction N/S&lt;/span>" id="1348369a-8721-423e-89fc-abcffae1c8af" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=coordsns_dir-asc"><span title='Direction of measurement from North/South section line'>Direction N/S</span></a></th><th class="k-header" data-field="utm_x" data-index="32" data-title="&lt;span title=&#39;The x (Easting) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)&#39;>UTM X&lt;/span>" id="bd00b44b-62c3-4c67-9ecb-2a55ccae3dfe" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=utm_x-asc"><span title='The x (Easting) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)'>UTM X</span></a></th><th class="k-header" data-field="utm_y" data-index="33" data-title="&lt;span title=&#39;The y (Northing) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)&#39;>UTM Y&lt;/span>" id="7e53e94e-d3bb-4a2b-9f41-c6cf388e143b" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=utm_y-asc"><span title='The y (Northing) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)'>UTM Y</span></a></th><th class="k-header" data-field="latdecdeg" data-index="34" data-title="&lt;span title=&#39;Latitude (decimal degrees)&#39;>Latitude&lt;/span>" id="c4a0b1a6-9123-48d2-b2a3-34889a40364e" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=latdecdeg-asc"><span title='Latitude (decimal degrees)'>Latitude</span></a></th><th class="k-header" data-field="longdecdeg" data-index="35" data-title="&lt;span title=&#39;Longitude (decimal degrees)&#39;>Longitude&lt;/span>" id="0a3b6cbc-7861-48ea-a0b8-e4cb2f07afe1" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=longdecdeg-asc"><span title='Longitude (decimal degrees)'>Longitude</span></a></th><th class="k-header" data-field="location_accuracy" data-index="36" data-title="&lt;span title=&#39;Accuracy of location coordinates&#39;>Location Accuracy&lt;/span>" id="c718daa9-6eca-463f-b20a-87d06edcdad0" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=location_accuracy-asc"><span title='Accuracy of location coordinates'>Location Accuracy</span></a></th><th class="k-header" data-field="modified" data-index="37" data-title="&lt;span title=&#39;Last date time that this record was modified in the DWR database&#39;>Modified&lt;/span>" id="6f2f7fe4-0c95-411d-9e31-06c9da91d8c2" scope="col"><a class="k-link" href="/Tools/Structures/Search/GridPage?grid=StructuresGrid&amp;StructuresGrid-sort=modified-asc"><span title='Last date time that this record was modified in the DWR database'>Modified</span></a></th></tr></thead></table></div></div><div class="k-grid-content k-auto-scrollable" style="height:0px"><table><colgroup><col style="width:55px" /><col style="width:54px" /><col style="width:97px" /><col style="width:165px" /><col style="width:121px" /><col style="width:100px" /><col style="width:64px" /><col style="width:81px" /><col style="width:81px" /><col style="width:81px" /><col style="width:72px" /><col style="width:72px" /><col style="width:45px" /><col style="width:43px" /><col style="width:72px" /><col style="width:81px" /><col style="width:81px" /><col style="width:45px" /><col style="width:45px" /><col style="width:54px" /><col style="width:67px" /><col style="width:72px" /><col style="width:56px" /><col style="width:45px" /><col style="width:71px" /><col style="width:72px" /><col style="width:71px" /><col style="width:72px" /><col style="width:56px" /><col style="width:64px" /><col style="width:69px" /><col style="width:77px" /><col style="width:147px" /><col style="width:72px" /></colgroup><tbody><tr class="k-no-data"><td colspan="34"></td></tr></tbody></table></div><div class="k-pager-wrap k-grid-pager"><a aria-label="Go to the first page" class="k-link k-pager-nav k-state-disabled k-pager-first" data-page="1" href="#" title="Go to the first page"><span class="k-icon k-i-arrow-end-left"></span></a><a aria-label="Go to the previous page" class="k-link k-pager-nav k-state-disabled" data-page="0" href="#" title="Go to the previous page"><span class="k-icon k-i-arrow-60-left"></span></a><div class="k-pager-numbers-wrap k-floatwrap"><select class="k-dropdown"><option selected="selected">1</option></select><ul class="k-pager-numbers"><li><span class="k-link k-state-selected" data-page="1">1</span></li></ul></div><a aria-label="Go to the next page" class="k-link k-pager-nav k-state-disabled" data-page="2" href="#" title="Go to the next page"><span class="k-icon k-i-arrow-60-right"></span></a><a aria-label="Go to the last page" class="k-link k-pager-nav k-state-disabled k-pager-last" data-page="1" href="#" title="Go to the last page"><span class="k-icon k-i-arrow-end-right"></span></a><span class="k-pager-sizes k-label"><select><option value="10">10</option><option value="100">100</option><option value="500">500</option><option value="1000">1000</option><option value="1500">1500</option></select>items per page</span><span class="k-pager-info k-label">No items to display</span></div></div><script>
	kendo.syncReady(function(){jQuery("#StructuresGrid").kendoGrid({"columns":[{"title":" ","headerAttributes":{"data-field":"viewLinkWDID","data-title":" "},"menu":false,"width":"55px","template":"\u003ca href=\u0027/Tools/Structures/#= wdid #\u0027 target = \u0027_blank\u0027\u003e\u003cspan title=\u0027Hyperlink to detail page\u0027\u003eView\u003c/span\u003e\u003c/a\u003e","locked":true,"field":"viewLinkWDID","sortable":false,"filterable":false,"encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"viewLinkWDID\" name=\"viewLinkWDID\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"viewLinkWDID\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027DWR unique structure identifier\u0027\u003eWDID\u003c/span\u003e","attributes":{"style":"text-align:center;"},"headerAttributes":{"data-field":"wdid","data-title":"\u0026lt;span title=\u0026#39;DWR unique structure identifier\u0026#39;\u003eWDID\u0026lt;/span\u003e"},"width":"54px","field":"wdid","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"wdid\" name=\"wdid\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"wdid\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Name of Structure\u0027\u003eStructure Name\u003c/span\u003e","attributes":{"style":"text-align:left;"},"headerAttributes":{"data-field":"structure_name","data-title":"\u0026lt;span title=\u0026#39;Name of Structure\u0026#39;\u003eStructure Name\u0026lt;/span\u003e"},"width":"97px","field":"structure_name","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"structure_name\" name=\"structure_name\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"structure_name\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Alternate names for structure\u0027\u003eStructure Name AKAs\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"associated_akas","data-title":"\u0026lt;span title=\u0026#39;Alternate names for structure\u0026#39;\u003eStructure Name AKAs\u0026lt;/span\u003e"},"hidden":true,"width":"140px","field":"associated_akas","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"associated_akas\" name=\"associated_akas\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"associated_akas\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Current in use code of structure\u0027\u003eCIU Code\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"ciu_code","data-title":"\u0026lt;span title=\u0026#39;Current in use code of structure\u0026#39;\u003eCIU Code\u0026lt;/span\u003e"},"width":"165px","field":"ciu_code","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"ciu_code\" name=\"ciu_code\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"ciu_code\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Type of structure\u0027\u003eStructure Type\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"structure_type","data-title":"\u0026lt;span title=\u0026#39;Type of structure\u0026#39;\u003eStructure Type\u0026lt;/span\u003e"},"width":"121px","field":"structure_type","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"structure_type\" name=\"structure_type\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"structure_type\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Name of the water source as specified in the court case\u0027\u003eWater Source\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"water_source","data-title":"\u0026lt;span title=\u0026#39;Name of the water source as specified in the court case\u0026#39;\u003eWater Source\u0026lt;/span\u003e"},"width":"100px","field":"water_source","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"water_source\" name=\"water_source\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"water_source\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027National Hydrographic Dataset stream identifier\u0027\u003eGNIS ID\u003c/span\u003e","headerAttributes":{"data-field":"gnis_id","data-title":"\u0026lt;span title=\u0026#39;National Hydrographic Dataset stream identifier\u0026#39;\u003eGNIS ID\u0026lt;/span\u003e"},"width":"64px","field":"gnis_id","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"gnis_id\" name=\"gnis_id\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"gnis_id\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Distance in miles to the location downstream where the stream became a tributary to a larger stream.  On the main stem, it is the distance to the state line.\u0027\u003eStream Mile\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"stream_mile","data-title":"\u0026lt;span title=\u0026#39;Distance in miles to the location downstream where the stream became a tributary to a larger stream.  On the main stem, it is the distance to the state line.\u0026#39;\u003eStream Mile\u0026lt;/span\u003e"},"width":"81px","field":"stream_mile","format":"{0:n2}","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field stream_mile must be a number.\" id=\"stream_mile\" name=\"stream_mile\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"stream_mile\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Water court case number(s) associated with water right\u0027\u003eAssociated Case Numbers\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"associated_case_numbers","data-title":"\u0026lt;span title=\u0026#39;Water court case number(s) associated with water right\u0026#39;\u003eAssociated Case Numbers\u0026lt;/span\u003e"},"hidden":true,"width":"92px","field":"associated_case_numbers","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"associated_case_numbers\" name=\"associated_case_numbers\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"associated_case_numbers\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027List of well permits associated with WDID\u0027\u003eAssociated Permits\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"associated_permits","data-title":"\u0026lt;span title=\u0026#39;List of well permits associated with WDID\u0026#39;\u003eAssociated Permits\u0026lt;/span\u003e"},"width":"81px","field":"associated_permits","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"associated_permits\" name=\"associated_permits\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"associated_permits\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027List of meters associated with WDID\u0027\u003eAssociated Meters\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"associated_meters","data-title":"\u0026lt;span title=\u0026#39;List of meters associated with WDID\u0026#39;\u003eAssociated Meters\u0026lt;/span\u003e"},"hidden":true,"width":"81px","field":"associated_meters","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"associated_meters\" name=\"associated_meters\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"associated_meters\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Contacts associated with structure\u0027\u003eContacts\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"associated_contacts","data-title":"\u0026lt;span title=\u0026#39;Contacts associated with structure\u0026#39;\u003eContacts\u0026lt;/span\u003e"},"hidden":true,"width":"81px","field":"associated_contacts","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"associated_contacts\" name=\"associated_contacts\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"associated_contacts\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Well Association\u0027\u003eUser Assocation\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"subdistrict","data-title":"\u0026lt;span title=\u0026#39;Well Association\u0026#39;\u003eUser Assocation\u0026lt;/span\u003e"},"width":"81px","field":"subdistrict","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"subdistrict\" name=\"subdistrict\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"subdistrict\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Date of first measurement in the wellâ€™s period of record\u0027\u003ePOR Start\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"por_start","data-title":"\u0026lt;span title=\u0026#39;Date of first measurement in the wellâ€™s period of record\u0026#39;\u003ePOR Start\u0026lt;/span\u003e"},"width":"72px","field":"por_start","format":"{0:M/d/yyyy}","encoded":true,"editor":"\u003cinput data-val=\"true\" data-val-date=\"The field por_start must be a date.\" id=\"por_start\" name=\"por_start\" type=\"text\" /\u003e\u003cscript\u003e\r\n\tkendo.syncReady(function(){jQuery(\"#por_start\").kendoDateTimePicker({\"format\":\"M/d/yyyy h:mm tt\",\"min\":new Date(1900,0,1,0,0,0,0),\"max\":new Date(2099,11,31,0,0,0,0),\"interval\":30});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"por_start\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Date of last measurement in the wellâ€™s period of record\u0027\u003ePOR End\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"por_end","data-title":"\u0026lt;span title=\u0026#39;Date of last measurement in the wellâ€™s period of record\u0026#39;\u003ePOR End\u0026lt;/span\u003e"},"width":"72px","field":"por_end","format":"{0:M/d/yyyy}","encoded":true,"editor":"\u003cinput data-val=\"true\" data-val-date=\"The field por_end must be a date.\" id=\"por_end\" name=\"por_end\" type=\"text\" /\u003e\u003cscript\u003e\r\n\tkendo.syncReady(function(){jQuery(\"#por_end\").kendoDateTimePicker({\"format\":\"M/d/yyyy h:mm tt\",\"min\":new Date(1900,0,1,0,0,0,0),\"max\":new Date(2099,11,31,0,0,0,0),\"interval\":30});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"por_end\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027DWR Water Division\u0027\u003eDiv\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"div","data-title":"\u0026lt;span title=\u0026#39;DWR Water Division\u0026#39;\u003eDiv\u0026lt;/span\u003e"},"width":"45px","field":"div","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field div must be a number.\" id=\"div\" name=\"div\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"div\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027DWR water district\u0027\u003eWD\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"wd","data-title":"\u0026lt;span title=\u0026#39;DWR water district\u0026#39;\u003eWD\u0026lt;/span\u003e"},"width":"43px","field":"wd","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field wd must be a number.\" id=\"wd\" name=\"wd\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"wd\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027County where the structure is located\u0027\u003eCounty\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"county","data-title":"\u0026lt;span title=\u0026#39;County where the structure is located\u0026#39;\u003eCounty\u0026lt;/span\u003e"},"width":"72px","field":"county","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"county\" name=\"county\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"county\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Designated basin where structure is located\u0027\u003eDesignated Basin\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"designated_basin_name","data-title":"\u0026lt;span title=\u0026#39;Designated basin where structure is located\u0026#39;\u003eDesignated Basin\u0026lt;/span\u003e"},"width":"81px","field":"designated_basin_name","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"designated_basin_name\" name=\"designated_basin_name\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"designated_basin_name\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Thirteen local districts, within the Designated Basins, with additional administrative authority\u0027\u003eManagement District\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"management_district_name","data-title":"\u0026lt;span title=\u0026#39;Thirteen local districts, within the Designated Basins, with additional administrative authority\u0026#39;\u003eManagement District\u0026lt;/span\u003e"},"width":"81px","field":"management_district_name","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"management_district_name\" name=\"management_district_name\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"management_district_name\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location: 10 acre quarter section\u0027\u003eQ10\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"q10","data-title":"\u0026lt;span title=\u0026#39;Legal location: 10 acre quarter section\u0026#39;\u003eQ10\u0026lt;/span\u003e"},"width":"45px","field":"q10","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"q10\" name=\"q10\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"q10\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location: 40 acre quarter section\u0027\u003eQ40\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"q40","data-title":"\u0026lt;span title=\u0026#39;Legal location: 40 acre quarter section\u0026#39;\u003eQ40\u0026lt;/span\u003e"},"width":"45px","field":"q40","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"q40\" name=\"q40\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"q40\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location: 160 acre quarter section\u0027\u003eQ160\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"q160","data-title":"\u0026lt;span title=\u0026#39;Legal location: 160 acre quarter section\u0026#39;\u003eQ160\u0026lt;/span\u003e"},"width":"54px","field":"q160","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"q160\" name=\"q160\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"q160\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location - section number\u0027\u003eSection\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"section","data-title":"\u0026lt;span title=\u0026#39;Legal location - section number\u0026#39;\u003eSection\u0026lt;/span\u003e"},"width":"67px","field":"section","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"section\" name=\"section\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"section\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location: Township number and direction\u0027\u003eTownship\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"township","data-title":"\u0026lt;span title=\u0026#39;Legal location: Township number and direction\u0026#39;\u003eTownship\u0026lt;/span\u003e"},"width":"72px","field":"township","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"township\" name=\"township\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"township\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Legal location - range\u0027\u003eRange\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"range","data-title":"\u0026lt;span title=\u0026#39;Legal location - range\u0026#39;\u003eRange\u0026lt;/span\u003e"},"width":"56px","field":"range","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"range\" name=\"range\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"range\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Principal Meridian\u0027\u003ePM\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"pm","data-title":"\u0026lt;span title=\u0026#39;Principal Meridian\u0026#39;\u003ePM\u0026lt;/span\u003e"},"width":"45px","field":"pm","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"pm\" name=\"pm\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"pm\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Distance and direction from East/West section line (feet)\u0027\u003eDistance E/W\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"coordsew","data-title":"\u0026lt;span title=\u0026#39;Distance and direction from East/West section line (feet)\u0026#39;\u003eDistance E/W\u0026lt;/span\u003e"},"width":"71px","field":"coordsew","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field coordsew must be a number.\" id=\"coordsew\" name=\"coordsew\" type=\"number\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"coordsew\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Direction of measurement from East/West section line\u0027\u003eDirection E/W\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"coordsew_dir","data-title":"\u0026lt;span title=\u0026#39;Direction of measurement from East/West section line\u0026#39;\u003eDirection E/W\u0026lt;/span\u003e"},"width":"72px","field":"coordsew_dir","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"coordsew_dir\" name=\"coordsew_dir\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"coordsew_dir\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Distance and direction from North/South section line (feet)\u0027\u003eDistance N/S\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"coordsns","data-title":"\u0026lt;span title=\u0026#39;Distance and direction from North/South section line (feet)\u0026#39;\u003eDistance N/S\u0026lt;/span\u003e"},"width":"71px","field":"coordsns","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field coordsns must be a number.\" id=\"coordsns\" name=\"coordsns\" type=\"number\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"coordsns\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Direction of measurement from North/South section line\u0027\u003eDirection N/S\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"coordsns_dir","data-title":"\u0026lt;span title=\u0026#39;Direction of measurement from North/South section line\u0026#39;\u003eDirection N/S\u0026lt;/span\u003e"},"width":"72px","field":"coordsns_dir","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"coordsns_dir\" name=\"coordsns_dir\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"coordsns_dir\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027The x (Easting) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)\u0027\u003eUTM X\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"utm_x","data-title":"\u0026lt;span title=\u0026#39;The x (Easting) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)\u0026#39;\u003eUTM X\u0026lt;/span\u003e"},"width":"56px","field":"utm_x","format":"{0:0.0}","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field utm_x must be a number.\" id=\"utm_x\" name=\"utm_x\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"utm_x\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027The y (Northing) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)\u0027\u003eUTM Y\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"utm_y","data-title":"\u0026lt;span title=\u0026#39;The y (Northing) component of the Universal Transverse Mercator system. (Zone 13, NAD83 datum)\u0026#39;\u003eUTM Y\u0026lt;/span\u003e"},"width":"64px","field":"utm_y","format":"{0:0.0}","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field utm_y must be a number.\" id=\"utm_y\" name=\"utm_y\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"utm_y\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Latitude (decimal degrees)\u0027\u003eLatitude\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"latdecdeg","data-title":"\u0026lt;span title=\u0026#39;Latitude (decimal degrees)\u0026#39;\u003eLatitude\u0026lt;/span\u003e"},"width":"69px","field":"latdecdeg","format":"{0:n6}","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field latdecdeg must be a number.\" id=\"latdecdeg\" name=\"latdecdeg\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"latdecdeg\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Longitude (decimal degrees)\u0027\u003eLongitude\u003c/span\u003e","attributes":{"style":"text-align: right;"},"headerAttributes":{"data-field":"longdecdeg","data-title":"\u0026lt;span title=\u0026#39;Longitude (decimal degrees)\u0026#39;\u003eLongitude\u0026lt;/span\u003e"},"width":"77px","field":"longdecdeg","format":"{0:n6}","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" data-val=\"true\" data-val-number=\"The field longdecdeg must be a number.\" id=\"longdecdeg\" name=\"longdecdeg\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"longdecdeg\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Accuracy of location coordinates\u0027\u003eLocation Accuracy\u003c/span\u003e","attributes":{"style":"text-align: left;"},"headerAttributes":{"data-field":"location_accuracy","data-title":"\u0026lt;span title=\u0026#39;Accuracy of location coordinates\u0026#39;\u003eLocation Accuracy\u0026lt;/span\u003e"},"width":"147px","field":"location_accuracy","encoded":true,"editor":"\u003cinput class=\"text-box single-line\" id=\"location_accuracy\" name=\"location_accuracy\" type=\"text\" value=\"\" /\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"location_accuracy\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"},{"title":"\u003cspan title=\u0027Last date time that this record was modified in the DWR database\u0027\u003eModified\u003c/span\u003e","attributes":{"style":"text-align: center;"},"headerAttributes":{"data-field":"modified","data-title":"\u0026lt;span title=\u0026#39;Last date time that this record was modified in the DWR database\u0026#39;\u003eModified\u0026lt;/span\u003e"},"width":"72px","field":"modified","format":"{0:M/d/yyyy}","encoded":true,"editor":"\u003cinput data-val=\"true\" data-val-date=\"The field modified must be a date.\" id=\"modified\" name=\"modified\" type=\"text\" /\u003e\u003cscript\u003e\r\n\tkendo.syncReady(function(){jQuery(\"#modified\").kendoDateTimePicker({\"format\":\"M/d/yyyy h:mm tt\",\"min\":new Date(1900,0,1,0,0,0,0),\"max\":new Date(2099,11,31,0,0,0,0),\"interval\":30});});\r\n\u003c/script\u003e\u003cspan class=\"field-validation-valid\" data-valmsg-for=\"modified\" data-valmsg-replace=\"true\"\u003e\u003c/span\u003e"}],"pageable":{"autoBind":false,"pageSizes":["10","100","500","1000","1500"],"buttonCount":10},"sortable":{"mode":"multiple","showIndexes":true},"selectable":"Single, Row","filterable":true,"persistSelection":false,"columnMenu":true,"resizable":true,"reorderable":true,"scrollable":{"height":"0px"},"editable":{"confirmation":"Are you sure you want to delete this record?","confirmDelete":"Delete","cancelDelete":"Cancel","mode":"inline","create":true,"update":true,"destroy":true},"autoBind":false,"dataSource":{"type":(function(){if(kendo.data.transports['aspnetmvc-ajax']){return 'aspnetmvc-ajax';} else{throw new Error('The kendo.aspnetmvc.min.js script is not included.');}})(),"transport":{"read":{"url":"/Tools/Structures/Search/GridPage?grid=StructuresGrid"},"prefix":""},"pageSize":100,"page":1,"groupPaging":false,"total":0,"requestEnd":onRequestEnd,"schema":{"data":"Data","total":"Total","errors":"Errors","model":{"id":"wdid","fields":{"wdid":{"type":"string"},"viewLinkWDID":{"type":"string"},"structure_name":{"type":"string"},"associated_akas":{"type":"string"},"ciu_code":{"type":"string"},"structure_type":{"type":"string"},"water_source":{"type":"string"},"gnis_id":{"type":"string"},"stream_mile":{"type":"number","defaultValue":null},"associated_case_numbers":{"type":"string"},"associated_permits":{"type":"string"},"associated_meters":{"type":"string"},"associated_contacts":{"type":"string"},"por_start":{"type":"date","defaultValue":null},"por_end":{"type":"date","defaultValue":null},"div":{"type":"number","defaultValue":null},"wd":{"type":"number","defaultValue":null},"subdistrict":{"type":"string"},"county":{"type":"string"},"designated_basin_name":{"type":"string"},"management_district_name":{"type":"string"},"pm":{"type":"string"},"township":{"type":"string"},"range":{"type":"string"},"section":{"type":"string"},"q160":{"type":"string"},"q40":{"type":"string"},"q10":{"type":"string"},"coordsew":{"type":"number","defaultValue":null},"coordsew_dir":{"type":"string"},"coordsns":{"type":"number","defaultValue":null},"coordsns_dir":{"type":"string"},"utm_x":{"type":"number","defaultValue":null},"utm_y":{"type":"number","defaultValue":null},"latdecdeg":{"type":"number","defaultValue":null},"longdecdeg":{"type":"number","defaultValue":null},"location_accuracy":{"type":"string"},"str_type":{"type":"string"},"cty":{"type":"number","defaultValue":null},"designated_basin_num":{"type":"number","defaultValue":null},"management_district_num":{"type":"number","defaultValue":null},"subdistrict_num":{"type":"number","defaultValue":null},"structure_aka_name":{"type":"string"},"permitno":{"type":"number","defaultValue":null},"permitsuf":{"type":"string"},"permitrpl":{"type":"string"},"display_meter_serial_no":{"type":"string"},"case_number":{"type":"string"},"dd_case_number":{"type":"string"},"structure_name_label":{"type":"string"},"water_source_label":{"type":"string"},"modified":{"type":"date","defaultValue":null}}}}}});});
</script>
<script>

    //Removes column settings from view column
    $(function() {
        $('#StructuresGrid .k-header-column-menu').eq(0).hide();
    });

    $(function() {
        var selectedDiv = document.getElementById('SelectedAdditionalValue').value;
        var grid = $("#StructuresGrid").data("kendoGrid");
        switch (selectedDiv) {
            case 'permitNumberDiv':
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                grid.lockColumn("permit");
                break;
            case 'structureNameDiv':

                grid.lockColumn("wdid");
                grid.showColumn("structure_name");
                grid.lockColumn("structure_name");
                var includeAKA = false;
                if (includeAKA) {
                    grid.showColumn("associated_akas");
                    grid.lockColumn("associated_akas");
                }
                break;
            case 'caseNumberDiv':
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                grid.showColumn("associated_case_numbers");
                grid.lockColumn("associated_case_numbers");
                break;
            case 'meterSerialDiv':
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                grid.showColumn("associated_meters");
                grid.lockColumn("associated_meters");
                break;;
            case 'contactNameDiv':
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                grid.showColumn("associated_contacts");
                grid.lockColumn("associated_contacts");
                break;;
            case 'waterSourceDiv':
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                grid.lockColumn("water_source");
                grid.lockColumn("gnis_id");
                grid.lockColumn("stream_mile");
                break;;
            default:
                grid.lockColumn("wdid");
                grid.lockColumn("structure_name");
                break;
        }
    });

    $(document).ready(function() {
        bindGridForRefresh('StructuresGrid');
    });
</script>







    </div>
</div>
<script>

    window.onlyShowFilteredGridDataInMap = window.onlyShowFilteredGridDataInMap || function () { return true; };
    function getOnlyShowFilteredGridDataInMapVal() {
        return typeof onlyShowFilteredGridDataInMap === "function" && onlyShowFilteredGridDataInMap() == true;
    }

    $(document).ready(function () {
        // Give the grid a chance to be initialized before we try to bind events
        setTimeout(function () {
            var grid = $("#dataGridResults .k-grid").data("kendoGrid");
            if (grid != null) {
                let prevFilter = grid.dataSource.filter();
                grid.bind("filter", function (newFilter) {
                    if (!deepEqual(prevFilter, newFilter) && getOnlyShowFilteredGridDataInMapVal()) {
                        $(document).trigger("mapWidgetFilterChanged");
                    }
                    prevFilter = newFilter;
                });
            }
        }, 50);
    });

    function getGridData() {
        let widgetElem = $(getKendoWidgetForMapJQuerySelector());
        let widget = widgetElem.data("kendoGrid");
        let allData = widget.dataSource.data();
        let baseDataToUse = allData;
        if (getOnlyShowFilteredGridDataInMapVal()) {
            try {
                let filterDs = new kendo.data.DataSource({ data: baseDataToUse });
                filterDs.filter(widget.dataSource.filter() || []);
                let filteredData = filterDs.view();
                baseDataToUse = filteredData;
                filteredData = null;
            } catch { }
        }
        let latitudeField = "latdecdeg";
        let longitudeField = "longdecdeg";
        if (typeof window.getLatitudeFieldName === "function") {
            latitudeField = window.getLatitudeFieldName() || latitudeField;
        }
        if (typeof window.getLongitudeFieldName === "function") {
            longitudeField = window.getLongitudeFieldName() || longitudeField;
        }
        let data = [];
        for (var i = 0; i < baseDataToUse.length; i++) {
            let cur = baseDataToUse[i];
            let lat = cur[latitudeField];
            let lng = cur[longitudeField];
            if (lat == null || lng == null) continue;//Eliminate null lats/longs
            if (cur.Geometry == null) {
                cur.Geometry = { Coordinates: { Latitude: lat, Longitude: lng } };
            }
            data.push(cur);
        }
        data.sort(getSorter("Geometry.Coordinates.Latitude", "Geometry.Coordinates.Longitude"));
        baseDataToUse = null;
        allData = null;
        return data;
    }
	function uuidv4() {
	  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
		var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
		return v.toString(16);
	  });
	}

    function getMapWidget() {
        return $(getKendoWidgetForMapJQuerySelector()).data("kendoGrid");
    }
    function setUpDivsDistsAndCountiesOnMapInit() {
        return false;
    }
    $(document).ready(function () {
        $(getKendoWidgetForMapJQuerySelector()).height("100%")//.parent().css("min-height", "168px");
        //$("#map").parent().css("min-height", "100px");
        let widget = getMapWidget();
        let hasSetUpDivsAndDists = false;
        widget.element.addClass("hideLoadingBarForNow");
        widget.dataSource.bind("change", function (e) {
            widget.one("dataBound", function () {
                initialize();
				setTimeout(function(e) {
                    widget.element.removeClass("hideLoadingBarForNow");
					//$(".k-loading-image").hide();
					kendo.ui.progress($(".resizableChildren").parent(), false);
				});
                /*if (!hasSetUpDivsAndDists && !setUpDivsDistsAndCountiesOnMapInit() && !checkIfClientIsMobile()) {
                    hasSetUpDivsAndDists = true;
                    setTimeout(function () {
                        setUpDivsAndDists();
                        setUpCounties();
                    }, 1500);
                }*/
            });
        });
        widget.dataSource.one("requestStart", function(e) {
			kendo.ui.progress($(".resizableChildren").parent().css("position", "relative"), true);
			setTimeout(function(e) {
				//$(".k-loading-image").appendTo($(".resizableChildren").parent().css("position", "relative"));
			});

        })
        let grid;
 
        grid = widget;
        // This is triggered when a row is selected
        grid.bind("change", function (e) {
            let mapContainer = $(map.getContainer());
            if (mapContainer.height() === 0 || mapContainer.width() === 0 || !mapContainer.is(":visible")) {
                return;//Don't waste resources if the map is collapsed
            }
            let selectedTr = this.select();
            let modelId;
            if (grid.dataItem(grid.select()) != null) {
                modelId = grid.dataItem(grid.select()).id
            }
            let selectedUid = selectedTr.attr("data-uid");
            if (selectedUid == null) return;

            let markerToOpenPopupFor = null;
            let layers = markerManager.getLayers();
            for (let i = 0; i < layers.length; i++) {
                let marker = layers[i];
                if (marker != null && marker.options != null && marker.options.gridUid == selectedUid) {
                    markerToOpenPopupFor = marker;
                    markerToOpenPopupFor.once("popupclose", function () {
                        if (grid.select().attr("data-uid") == selectedUid)
                            grid.clearSelection();
                    });
                    break;
                }
            }
            let PolylineToOpenPopupFor = null;
            if (window.polylineManager != null) {
                layers = polylineManager.getLayers();
                if (modelId != null) {
                    for (let i = 0; i < layers.length; i++) {
                        let polyine = layers[i];
                        if (polyine != null && polyine.feature.properties != null && polyine.feature.properties.ID == modelId) {
                            PolylineToOpenPopupFor = polyine;
                            PolylineToOpenPopupFor.once("popupclose", function () {
                                if (grid.select().attr("data-uid") == selectedUid)
                                    grid.clearSelection();
                            });
                            break;
                        }
                    }
                }
            }
           
            if (getInsideGridMapInteraction() === false) {
                setInsideGridMapInteraction(true);
                if (markerToOpenPopupFor != null) {
                    let animationDurationInSeconds = 0;

                    setTimeout(function () {
                        markerManager.zoomToShowLayer(markerToOpenPopupFor, function () {
                            markerToOpenPopupFor.openPopup();
                        });
                    }, animationDurationInSeconds * 1000 + 75);
                } else if (PolylineToOpenPopupFor != null) {
                    if (window.polylineManager != null)
                        polylineManager.closePopup();
                    map.fitBounds(PolylineToOpenPopupFor.getBounds(), { padding: [100, 100] });
                    if (window.polylineManager != null)
                        polylineManager.openPopup(PolylineToOpenPopupFor);
                }
                else {
                    selectedTr.removeClass("k-state-selected");
                }
                setInsideGridMapInteraction(false);
            }
        });
        let afterMapResize = function (centerLatLng) {
            if (map != null) {
                let mapPane = $(map.getContainer()).closest(".k-pane");
                if (mapPane.length != 0 && (mapPane.height() === 0 || mapPane.width() === 0)) return;
                if (centerLatLng == null) centerLatLng = map.getCenter();
                map.invalidateSize();
                if (centerLatLng != null) {

                    map.panTo(centerLatLng);
                }
				if (markerManager != null) {
					markerManager.getLayers().forEach(function(marker) {
                        setTimeout(function () {
                            marker.fire("mapsizechanged");
                        }, 100);
					});
				}
            }
        };
		let afterGridResizeTimeoutId = null;
        let afterGridResize = function (gridScrollTop) {
            let widgetElem = $(getKendoWidgetForMapJQuerySelector());
            let gridPane = widgetElem.closest(".k-pane");
            if (gridPane.length != 0 && (gridPane.height() === 0 || gridPane.width() === 0)) return;
            let grid = widgetElem.data("kendoGrid");
            if (grid != null && afterGridResizeTimeoutId == null) {
				afterGridResizeTimeoutId = setTimeout(function() {
					afterGridResizeTimeoutId = null;
					grid.resize(true);
					if (gridScrollTop != null) {
						grid.content.scrollTop(gridScrollTop);
					}
				}, 25);
            }
        };
        let inPageResize = false;
        let currentSplitterWidth = $(".resizableChildren").width();
        let currentSplitterHeight = $(".resizableChildren").height();
        let splitterPreventDefaultOnWidthResizeFunc = function (e) {
            if (inPageResize === true && e.width != currentSplitterWidth && e.height == currentSplitterHeight) {
                e.preventDefault();
            }
            currentSplitterWidth = e.width;
            currentSplitterHeight = e.height;
        }
		window.collapseExpandFunc = function () {
            let topBar = $("#splitPaneTopBar");
			setTimeout(function() {
                let countOn = 0;
                let splitter = $(".resizableChildren").getKendoSplitter();
                if (splitter == null) return;
                let paneElems = splitter.element.find(".k-pane");
				for (let i = 0; i < splitter.options.panes.length; i++) {
					let pane = splitter.options.panes[i];
                    let curOffNow = pane.collapsed === true;
                    topBar.find('button.splitterPaneToggler[data-pane-index="' + i + '"]').toggleClass("off", curOffNow);
                    let paneElem = $(paneElems[i]);
                    paneElem.toggleClass("hideMyChildren", curOffNow);
                    let dataPaneName = paneElem.attr("data-pane-name");
                    if (dataPaneName != null) {
                        $("#onOffSwitch" + dataPaneName).prop("checked", !curOffNow);
                    }
					if (!curOffNow) {
						countOn++;
					}
                }
                afterMapResize();
                afterGridResize();
                let widgetElem = $(getKendoWidgetForMapJQuerySelector());
                if (widgetElem.length > 0) {
                    let closestPane = widgetElem.closest(".k-pane");
                    if (closestPane.length > 0 && (closestPane.height() === 0 || closestPane.width() === 0)) {
                        widgetElem.find("tr.k-state-selected").removeClass("k-state-selected");
                    }
                }
				$(".hideOnOnly").toggleClass("onlyOneSelectedIsTrue", countOn == 1);
                savePanesInfo();
			}, 50);
        };
        window.pageResize = function (ev) {
            inPageResize = true;
            let resizableParent = $(".resizableChildren");
            //let prevResizableParentHeight = resizableParent.height();
            let lsc = $("#leftSectionContent:visible");
            let lscBot = (lsc.offset() || { top: -9999 }).top + (lsc.outerHeight() || -9999);
            let elemTop = resizableParent.offset().top;
            let lscAboveElem = lscBot >= 0 && lscBot <= elemTop;
            let windowHeight = $(window).height();
            let availablePageHeight = windowHeight - ($("#footer").height() || $("#detailsFooter").height() || 0) - 15 - (lscAboveElem ? 0 : $("#header").height() || $("#detailsHeader").height() || 0) - ($("#messageBox:visible").height() || 0);
            availablePageHeight -= Math.max(0, elemTop - resizableParent.parent().offset().top);
            if (availablePageHeight < 100 || availablePageHeight > windowHeight) {
                setTimeout(function () {
                    pageResize(ev);
                }, 100);
                return;
            }
            let resizableParentWidth = resizableParent.width();

            let oldSplitter = $(".resizableChildren").data("kendoSplitter");
            if (oldSplitter != null) {
                let panes = oldSplitter.options.panes;
                let paneSizes = [];
                let overallSize = 0;
                let success = true;
                for (let i = 0; i < panes.length; i++) {
                    let size = panes[i].size;
                    let success = false;
                    if (size != null) {
                        let parsed = parseFloat(size);
                        if (!isNaN(parsed)) {
                            paneSizes.push(parsed);
                            overallSize += parsed;
                            continue;
                        }
                    }
                    success = false;
                    break;
                }
                if (success && overallSize > 0) {
                    for (let i = 0; i < panes.length; i++) {
                        panes[i].size = ((paneSizes[i] / overallSize) * 100).toFixed(3) + "%" ;
                    }
                }
            }

            let createdNewSplitter = false;
            if (ev == null || ev.resetSplitter !== false) {
                createdNewSplitter = window.setUpSplitter(shouldSplitHorizontal(resizableParentWidth, availablePageHeight));
            }
            resizableParent.height(availablePageHeight);
            if (!createdNewSplitter) {
                let splitter = $(".resizableChildren").data("kendoSplitter");
                if (splitter != null)
                    splitter.size(".k-pane:last", splitter.size(".k-pane:last"));
                afterMapResize(ev != null ? ev.mapCenter : null);
                afterGridResize(ev != null ? ev.gridScrollTop : null);
            }
            let allowManualOrientationChange = window.shouldAllowManualOrientationChange(resizableParentWidth, availablePageHeight);
            $("#splitPaneLayout").closest(".splitPaneLayoutHider").css({
                "cursor": (allowManualOrientationChange ? "" : "not-allowed"),
                "background": (allowManualOrientationChange ? "" : "#00000069"),
                //"pointer-events": (allowManualOrientationChange ? "" : "none"),
            }).attr("title", allowManualOrientationChange ? "Switch layout orientation" : "Table/Map space too small to switch layout orientation");
            inPageResize = false;
        };
        let shouldReverse = false;
        window.reverseSplitterItems = function() {
            shouldReverse = true;
            pageResize();
        }
        let savedPanesInfo = getSavedPanesInfo();
        window.setUpSplitter = function (horizontal) {
            if (horizontal === (function (und) { return und; }())) {// Just to make sure the "undefined" keyword wasn't defined like it could be in older browsers
                horizontal = shouldSplitHorizontal();
            }
            horizontal = horizontal === true;
            let orientation = horizontal ? "horizontal" : "vertical";
            let jElem = $(".resizableChildren");
            let existingSplitter = jElem.getKendoSplitter();
            let orientationHasChanged = existingSplitter == null || existingSplitter.orientation != orientation;
            if (orientationHasChanged === false && shouldReverse === false) {
                return false;
            }

            let docScrollTop = $(document).scrollTop();

            let deleteExisting = false;
            let mapCenter = map != null ? map.getCenter() : null;
            let gridScrollTop;
            let setGridScrollTop = function () { gridScrollTop = grid != null ? grid.content.scrollTop() : null; };
			let originalPaneSizes = ["45%", "55%"];
            let panes = [{ collapsible: true, size: originalPaneSizes[0], scrollable: false }, { collapsible: true, size: originalPaneSizes[1], scrollable: false }];

            let jPanes = jElem.find('[data-pane-name]');

            let newPaneElems = [];
            const panelAttributesToKeep = ["id", "data-pane-name"];
            jPanes.each(function () {
                let curPane = this;
                let curPaneClone = curPane.cloneNode();
                $.each(curPaneClone.attributes, function () {
                    if (this.specified && panelAttributesToKeep.indexOf(this.name) < 0) {
                        curPaneClone.removeAttribute(this.name);
                    }
                });
                newPaneElems.push(curPaneClone);
                let jCurPaneClone = $(curPaneClone);
                let jCurPane = $(curPane);
                jCurPane.children().appendTo(jCurPaneClone);
            });

            if (existingSplitter != null) {
                setGridScrollTop();

                panes = existingSplitter.options.panes || panes;
                let paneSizes = [];
                let overallSize = 0;
                let success = true;
                for (let i = 0; i < panes.length; i++) {
                    let size = panes[i].size;
                    let success = false;
                    if (size != null) {
                        let parsed = parseFloat(size);
                        if (!isNaN(parsed)) {
                            paneSizes.push(parsed);
                            overallSize += parsed;
                            continue;
                        }
                    }
                    success = false;
                    break;
                }
                for (let i = 0; i < panes.length; i++) {
                    panes[i].size = success && overallSize > 0 ? ((paneSizes[i] / overallSize) * 100).toFixed(3) + "%" : originalPaneSizes[i];
                }

                deleteExisting = true;
                //destroy the splitter link to the DOM
                //existingSplitter.destroyNonRecursive();
                existingSplitter.destroy();
            }
            else {
                setGridScrollTop();
            }
            if (shouldReverse !== false) {
                newPaneElems.reverse();
                panes.reverse();
            }
            if (savedPanesInfo != null) {
                let sortablePaneDataItems = [];
                for (let i = 0; i < newPaneElems.length; i++) {
                    let paneElem = newPaneElems[i];
                    let paneName = $(paneElem).attr("data-pane-name");
                    let savedPaneInfo = savedPanesInfo[paneName];
                    let order = 999 + i;
                    let collapsed = false;
                    let paneOption = panes[i];
                    if (savedPaneInfo != null) {
                        if (savedPaneInfo.ord != null) {
                            order = savedPaneInfo.ord;
                        }
                        if (savedPaneInfo.clpsd != null) {
                            collapsed = savedPaneInfo.clpsd;
                        }
                        if (savedPaneInfo.size != null) {
                            paneOption.size = savedPaneInfo.size;
                        }
                    }
                    paneOption.collapsed = collapsed;
                    sortablePaneDataItems.push({ paneElem: paneElem, pane: panes[i], order: order });
                }
                sortablePaneDataItems.sort(getSorter("order"));
                newPaneElems = [];
                panes = [];
                for (let i = 0; i < sortablePaneDataItems.length; i++) {
                    let sortablePaneDataItem = sortablePaneDataItems[i];
                    newPaneElems.push(sortablePaneDataItem.paneElem);
                    panes.push(sortablePaneDataItem.pane);
                }
                savedPanesInfo = null;// only want to run this code the first time on page load
            }
            let newJElem = $('<div class="resizableChildren" style="display: inline-block; width: 100%; height: 100%; max-height: 100%"></div>');
            let layoutBase = $("#splitPaneLayout").closest(".splitPaneLayoutHider");
            layoutBase.parent().find(">button.splitterPaneToggler").remove();
			let row = layoutBase.prev("#showHideDisplayOptions").find("tr");
			if (row.length === 0) {
			    let table = $('<table id="showHideDisplayOptions" style="position: relative;height: calc((1.14285714286 * 1em) + 6px + (1em/14));"><tbody><tr id="showHideTable"></tr></tbody></table>');
				table.insertBefore(layoutBase);
				row = table.find("tr");
			}
            row.empty();
            let minPaneSizes = { "Map": horizontal ? "10%" : "10%", "Table": horizontal ? "10%" : "146px" };
			let paneOrder = [];
            for (let i = 0; i < newPaneElems.length; i++) {
                let newPaneElem = newPaneElems[i];
                newJElem.append(newPaneElem);
                let paneName = newPaneElem.getAttribute("data-pane-name");
                if (paneName != null) {
					paneOrder.push(paneName);
                    //$('<button data-pane-index="' + i + '" class="splitterPaneToggler ' + (panes[i].collapsed === true ? 'off' : '') + '">' + paneName + '</button>')
					row.append($('<td style="padding-right: 3px;"><label style="font-weight: normal;margin:0;" for="onOffSwitch' + paneName + '">' + paneName + '</label></td>' +
								'<td style="padding-right: 7px;"><div title="Click to toggle visibility of the ' + paneName + ' pane" class="onoffswitch">' +
								'<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" checked="" data-on="Show" data-off="Hide" id="onOffSwitch' + paneName +
								'" data-pane-name="' + paneName + '"><label style="margin:0;" class="onoffswitch-label" for="onOffSwitch' + paneName + '">' +
                                '<span class="onoffswitch-inner"></span><span class="onoffswitch-switch"></span>' +
                                '</label></div></td>'));
                    if (i < panes.length) {
                        if (minPaneSizes.hasOwnProperty(paneName)) {
                            panes[i].min = minPaneSizes[paneName];
                        }
                    }
                }
            }
            newJElem.insertBefore(jElem);
            jElem.remove();
            jElem = newJElem

            let curIcon = layoutBase.next(".iconButton").find("span.k-icon,img");
            if (curIcon.length === 0) {
                curIcon = $('<img style="font-size: 16px;width: 1em;" src="/Tools/Images/flip.png" alt="Flip panels icon"></img>');//$('<span class="k-icon"></span>');
                let iconButton = $('<a title="Flip map and table panels" href="#" class="k-link iconButton hideOnOnly"></a>');
                iconButton.append(curIcon);
                iconButton.insertAfter(layoutBase);
                iconButton.on("click", function () {
                    reverseSplitterItems();
                });
            }
			let curIconIsImg = curIcon.is("img");
            if (shouldReverse || deleteExisting) {
                let isFlipped = curIcon.hasClass("k-flip-h") || curIcon.hasClass("k-flip-v");
				let toFlip = curIcon;//(curIcon.is("img") ? curIcon.parent() : curIcon);
                if (isFlipped) {
                    toFlip.removeClass("k-flip-h");
                    toFlip.removeClass("k-flip-v");
                }
                if ((!isFlipped && shouldReverse) || (isFlipped && orientationHasChanged)) {
                    toFlip.addClass("k-flip-" + (horizontal ? "h" : "v"));
                }
            }
            if (existingSplitter == null && $(newPaneElems[0]).attr("data-pane-name") === "Map") {
                curIcon.addClass("k-flip-" + (horizontal ? "h" : "v"));
            }
            layoutBase.find(".k-icon").toggleClass("k-flip-h-and-rotate-ninety", !horizontal);
            layoutBase.find("img").toggleClass("k-flip-h-and-rotate-ninety", horizontal);
			if (curIconIsImg) {
				curIcon.removeClass("rotate-neg-ninety");
				curIcon.removeClass("k-flip-h-and-rotate-neg-ninety");
				curIcon.toggleClass((curIcon.is(".k-flip-h") ? "k-flip-h-and-" : "") + "rotate-neg-ninety", horizontal);
				//curIcon.parent().toggleClass("k-flip-h", !horizontal && paneOrder.length > 0 && paneOrder[0] == "Map");
			}
			else {
				curIcon.removeClass("k-i-flip-horizontal k-i-flip-vertical");
				curIcon.addClass("k-i-flip-" + (horizontal ? "horizontal" : "vertical"));
			}

            jElem.find(">*").css({ width: "", height: "", top: "", left: "" }).css(horizontal ? { height: "100%" } : { width: "100%" });
            var splitter = jElem.kendoSplitter({
                orientation: orientation,
                panes: panes
            }).getKendoSplitter();
            jElem.find('.k-splitbar[aria-expanded]').removeAttr("aria-expanded");
            jElem.find(">*").css(horizontal ? { height: "100%" } : { width: "100%" });
            let afterOnResizeTimeout = null;
            splitter.bind("resize", function (e) {
                splitterPreventDefaultOnWidthResizeFunc(e);
                if (e.isDefaultPrevented()) { return; }
                if (afterOnResizeTimeout == null) {
                    let splitterJElem = $(this.element);
                    splitterJElem.find('.k-splitbar[aria-expanded]').removeAttr("aria-expanded");
                    afterOnResizeTimeout = setTimeout(function () {
                        afterOnResizeTimeout = null;
                        let visibleIcons = splitterJElem.find('.k-icon:visible');
                        let getFilter = function (text) {
                            const filterText = text;
                            const filterTextLength = filterText.length;
                            return function () {
                                let classNames = this.className.split(/\s+/);
                                for (var i = 0; i < classNames.length; i++) {
                                    if (classNames[i].substr(0, filterTextLength) === filterText) {
                                        return true;
                                    }
                                }
                                return false;
                            };
                        };
                        let appendAndReturnBelowOrAboveText = function (expand) {
                            const isExpand = expand === true;
                            const beforeText = "Click to " + (isExpand ? "expand" : "collapse") + " ";
                            const afterText = " pane";
                            const above = "above";
                            const below = "below";
                            const left = "left";
                            const right = "right";
                            let paneName = null;
                            return function () {
                                let bar = $(this).closest(".k-splitbar");
                                let getNameOrNull = function (prev) {
                                    let name = (prev === true ? bar.prev() : bar.next()).attr("data-pane-name");
                                    if (name != null && name.length > 0) {
                                        paneName = name;
                                        return name.toLowerCase();
                                    }
                                    return null;
                                }
                                let classNames = this.className.split(/\s+/);
                                let getTextFunction = function () {
                                    for (var i = 0; i < classNames.length; i++) {
                                        if (classNames[i].indexOf("arrow") > -1) {
                                            if (classNames[i].indexOf("up") > -1) {
                                                return beforeText + (getNameOrNull(!isExpand) || (isExpand ? below : above)) + afterText;
                                            }
                                            else if (classNames[i].indexOf("down") > -1) {
                                                return beforeText + (getNameOrNull(isExpand) || (isExpand ? below : above)) + afterText;
                                            }
                                            else if (classNames[i].indexOf("right") > -1) {
                                                return beforeText + (getNameOrNull(isExpand) || (isExpand ? left : right)) + afterText;
                                            }
                                            else if (classNames[i].indexOf("left") > -1) {
                                                return beforeText + (getNameOrNull(!isExpand) || (isExpand ? left : right)) + afterText;
                                            }
                                        }
                                    }
                                    return beforeText + afterText.trim();
                                };
                                let text = getTextFunction();
                                if (paneName != null) {
                                    splitterJElem.parent().find(".splitterPaneToggler:contains('" + paneName + "')").attr("title", text);
                                }
                                return text;
                            };
                        };

                        visibleIcons.filter(getFilter("k-expand")).attr("title", appendAndReturnBelowOrAboveText(true));
                        visibleIcons.filter(getFilter("k-collapse")).attr("title", appendAndReturnBelowOrAboveText(false));
                        splitterJElem.find(".k-splitbar").attr("title", "Drag to resize");
                        if (!e.isDefaultPrevented()) {
                            afterMapResize();
                            afterGridResize();
                        }
                        savePanesInfo();
                    }, 150);
                }
            });
            splitter.bind("collapse", window.collapseExpandFunc);
            splitter.bind("expand", window.collapseExpandFunc);
            if (deleteExisting) {
                pageResize({ mapCenter: mapCenter, gridScrollTop: gridScrollTop, resetSplitter: false });
                splitter.size(".k-pane:last", splitter.size(".k-pane:last"));
                pageResize({ mapCenter: mapCenter, gridScrollTop: gridScrollTop, resetSplitter: false });
            }
            else {
                splitter.trigger("resize");
                // Set up toggle buttons up top, make sure they match the default setting
                for (let i = 0; i < splitter.options.panes.length; i++) {
                    let pane = splitter.options.panes[i];
                    $('#splitPaneTopBar [data-pane-index="' + i + '"]').toggleClass("off", pane.collapsed === true);
                }
            }
            if (shouldReverse) {
                shouldReverse = false;
            }
            collapseExpandFunc();
            savePanesInfo();
            setTimeout(function () {
                $(document).scrollTop(docScrollTop);
            }, 50);
            return true;
        };
        pageResize();
        $("#map").css("padding", "");
    });
    $("#splitPaneTopBar").on("click", "button.splitterPaneToggler", function () {
        let elem = $(this);
        let paneIndex = parseInt(elem.attr("data-pane-index"));
        if (!isNaN(paneIndex)) {
            let splitter = $(".resizableChildren").data("kendoSplitter");
            if (splitter != null) {
                let wasOff = elem.is(".off");
                let countNotCollapsed = 0;
                for (let i = 0; i < splitter.options.panes.length; i++) {
                    if (i == paneIndex) continue;
                    countNotCollapsed += (splitter.options.panes[i].collapsed !== true ? 1 : 0);
                }
                if (countNotCollapsed > 0 && splitter.options.panes[paneIndex].collapsible === true) {
                    splitter[wasOff ? "expand" : "collapse"](".k-pane:eq(" + paneIndex + ")");
                    elem.toggleClass("off", splitter.options.panes[paneIndex].collapsed === true);
                }
                window.collapseExpandFunc();
            }
        }
    });

    $(document).ready(function () {
        let splitPaneLayout = $("#splitPaneLayout");
        let toggleButton = splitPaneLayout.closest(".splitPaneLayoutHider");
        toggleButton.on("click", function () {
            if ($(this).css("cursor") != "not-allowed") {
                toggleSplitOrientationTopBottomToLeftRight();
            }
        });
        splitPaneLayout.on("change", function () {
            let val = $(this).val();
            switch (val) {
                case "topbottom": setSplitOrientationTopBottom(); break;
                case "leftright": setSplitOrientationLeftRight(); break;
                case "basedonscreen": setSplitOrientationBasedOnWindowSize(); break;
            }
            let useSpinner = false && typeof loadSpinner === "function" && typeof stopSpinner === "function";
			if (useSpinner)  {
				loadSpinner();
				setTimeout(function () {
					setUpSplitter();
					if (useSpinner) stopSpinner();
				}, 150);
			}
			else {
				setUpSplitter();
			}
        });

		let insideChange = {};
		$("#splitPaneTopBar").on("change", ".onoffswitch input[data-pane-name]", function (e) {
			if (insideChange.hasOwnProperty(this.id)) return;
			insideChange[this.id] = true;
			let splitter = $(".resizableChildren").data("kendoSplitter");
			let panes = splitter.element.find(".k-pane");
			let elemToSwitch = panes.filter('[data-pane-name="' + $(this).attr("data-pane-name") + '"]');
			if (splitter != null && elemToSwitch.length > 0) {
				if (!this.checked && panes.filter(":not(.k-state-collapsed)").length < 2) {
					e.preventDefault();
					e.stopPropagation();
					this.checked = !this.checked;
				}
				else {
					const className = "hideMyChildren";
					if (!this.checked) elemToSwitch.addClass(className);
					splitter[this.checked ? "expand" : "collapse"](elemToSwitch);
					if (this.checked) elemToSwitch.removeClass(className);
					window.collapseExpandFunc();
				}
			}
			delete insideChange[this.id];
		});
    });
</script>
        </div>
 <style>
    .no-results-container {
        text-align: center;
        width: 100%;
        margin-top: 175px;
        display: none
    }
</style>

<div id="InitialLoadDiv" class="no-results-container">

<span style="font-size: 30px">No Results Yet</span><br /><span>Use the controls on the left to perform a structure search.</span></div>
<div id="NoResultsDiv" class="no-results-container">
<span style="font-size: 30px">No Results Found</span><br /><span>Try performing another search.</span>
</div>

<script>
    if (true) {
        if (document.getElementById('InitialLoadDiv') != null)
            document.getElementById('InitialLoadDiv').style.display = 'block';
        if (document.getElementById('hideSearch') != null)
            document.getElementById('hideSearch').style.display = 'none';
        $('.export-button').prop('disabled', true);
        $('.export-button').attr('title', 'No results to export. Trying performing a new search.');
    }
    else if (0 == 0) {
        if (document.getElementById('NoResultsDiv') != null)
            document.getElementById('NoResultsDiv').style.display = 'block';
        if (document.getElementById('hideSearch') != null)
            document.getElementById('hideSearch').style.display = 'none';
        $('.export-button').prop('disabled', true);
        $('.export-button').attr('title', 'No results to export. Trying performing a new search.');
    } else {
        if (document.getElementById('rightSectionContent') != null)
            document.getElementById('rightSectionContent').style.display = 'block';
    }

</script>



    </div>

</body>


<script>
    
    $(document).ready(function() {
        validateExport();
        $('#StartDate').attr('autocomplete', 'off');
        $('#EndDate').attr('autocomplete', 'off');
    });
</script>
<script>
    var count = 0;
    $('#StartDate').change(function () {
        if (count > 1) {
            enableButton('buttonSearch');
        }
        count++;
    });
    $('#EndDate').change(function () {
        if (count > 1) {
            enableButton('buttonSearch');
        }
        count++;
    });
    CheckIfDirty();
    function CheckIfDirty() {
        if ($("#EndDate").val() !== "" || $("#StartDate").val() !== "" || $("#SelectedGeoValue").val() !== "waterDivisionDiv" || $("#SelectedWaterDivisionId").val() !== "0" || $("#SelectedAdditionalValue").val() !== "" || $("#SelectedSubdistrictId").val() !== "0" || $("#SelectedStructureId").val() !== "*")
            enableButton('buttonSearch');
    }
</script>

<script>
    //On resize it will check the window height and subtract-190 and set that to be the div size. This will expand bodycontent and hide the grey
    function CheckForResize() {
        return true;
    }
    
    function getKendoWidgetForMapJQuerySelector() {
        return "#StructuresGrid";
    }

    function ParametersForResize() {
        
    }

    $(".maptab").click(function () {
        $("#labeltab").css('display', 'block');
        refreshGrid();
    });
    $("#DataGrid").click(function () {
        $("#labeltab").css('display', 'none');
        refreshGrid();
    });

</script>


<script>
    var expander = document.getElementById('expandDiv');
    $('.expand').click(function () {
        $(this).text(function (i, text) {
            if (text == "Hide") {
                $(expander).show();
                $('.col-left-search').addClass('hidden');
                $('.result').removeClass('col-left-search').addClass('hidden');
            } else {
                $(expander).hide();
                $('.col-left-search').removeClass('hidden');
                $('.result').removeClass('hidden').addClass('col-left-search');
            }
        });
        resize();
        refreshGrid();
    });
</script>


<script type="text/javascript" src="/Tools/Scripts/spin.min.js"></script>
<script type="text/javascript">
    var submit;
    function checkForm(form) {
        return false;
    }
    //set button type
    function Clicked(button) {
        submit = button;
    }
    function executeSpinner() {
        var opts = {
            lines: 12, // The number of lines to draw
            length: 7, // The length of each line
            width: 4, // The line thickness
            radius: 10, // The radius of the inner circle
            color: '#000', // #rgb or #rrggbb
            speed: 1, // Rounds per second
            trail: 60, // Afterglow percentage
            shadow: false, // Whether to render a shadow
            hwaccel: false // Whether to use hardware acceleration
        };
        if (submit.value == "Submit") {
            $("#loading").fadeIn();

            var trget = document.getElementById('loading');
            new Spinner(opts).spin(trget);
        }

    }
</script>


<script>
    function validateExport() {
        $('#buttonExport').removeAttr("disabled");
        if (0 === 0) {
            $('#buttonExport').attr("disabled", "disabled");
            $('#divMetadata').attr("disabled", "disabled");
            document.getElementById('exportSubmitButton').disabled = true;
        }
    }

    function exportValue() {
        if (document.getElementById('divMetadata').checked) {
            document.getElementById('exportSubmitButton').disabled = false;
        }
        else {
            document.getElementById('exportSubmitButton').disabled = true;
        }
    }

</script>

        <div id="modalID" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content" style="font-family: sans-serif; color: black">

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" style="text-align: center"><b>About Structures</b></h4>
    </div>
    <div class="modal-body" style="min-height: 350px">
        <h5><b><u>Description</u></b></h5>
        <p>
            <p>Administrative structures are a variety of things -- see the data dictionary for a list of structure types -- used for diverting, storing, releasing, measuring or managing water. Structures may be on-stream of off-stream, and are associated with a specific water source.</p>
<p>Diversion Records are associated with Structures. See guidance document<br /><a href="https://docs.google.com/document/d/e/2PACX-1vRKK4Ap17x3bIXHNnqX-QaHBYN0UFyTGdY4eWJVV7Bj_avCM1rOG3G-HuJsxJX44bJX7625JklJZVTu/pub" target="_blank" rel="noopener">How to Get Structure Diversion Records from CDSS</a>.</p>
            
        </p>
        <br />
        <h5><b><u>Resources</u></b></h5>
        <p>
            <a href="https://docs.google.com/document/d/e/2PACX-1vRN35hLVrkXemNrMcrK1Ks4rcT1Ps7xfUI9gUPJ5FOpaaNSp4-iGpOol1s678018NNURkTpM4ZbB6uF/pub" target="_blank">
                User Guide
            </a>
        </p>
        <p>
            <a href="/Tools/Structures/DataDictionary/GetDataDictionary" target="_blank">Data Dictionary (Structures)</a>
        </p>
        <p>
            <a href="https://dnrweblink.state.co.us/dwr/ElectronicFile.aspx?docid=3600965&dbid=0" target="_blank">
                Diversion Record Standard
            </a>
        </p>
        <p>
                <a href="https://dwr.state.co.us/Portal/dwr/AskDWR?topicNum=5&amp;officeNum=8&amp;subject=Question%20about%20Structures" target="_blank">
        Ask DWR: Other Questions About Structures
    </a>

        </p>
        <p>
            <a href="#modalID1" role="tab" data-toggle="modal">Subscribe to email list <span class="glyphicon glyphicon-envelope"></span></a>
        </p>

<script>
    const recaptchaWidgetIdAttr = 'recaptcha-widget-id';
    function captchaCallback() {
        $('.g-recaptcha').each(function (index, el) {
            const jEl = $(el);
            const jForm = jEl.closest('form');
            const isInvisibleClass = jEl.is('.invisible-recaptcha');
            const isInvisibleByAttr = jEl.attr('data-size') == 'invisible';
            const isInvisible = isInvisibleClass || isInvisibleByAttr;
            const parent = jEl.closest('.recaptcha-parent');
            let allowSubmit = false;
            const toggleError = function (showError) {
                showError = showError === true;
                allowSubmit = !showError;
                parent.toggleClass('recaptcha-error', showError);
                parent.find('.recaptcha-error-message').toggle(showError);
            };
            const grecaptchaArgs = {
                sitekey: isInvisible ? '6LcICqgkAAAAAE0Fbv5JZh_XLsYkffu5LN9OT2qr' : '6LfHrKckAAAAAG9BWMYNFvlD5qFSZF4UKVEj7abN',
                callback: function (token) {
                    jForm.find('.g-recaptcha-response').val(token);
                    if (isInvisible) {
                        allowSubmit = true;
                        jForm.submit();
                    }
                    else {
                        toggleError(false);
                    }
                }
            };
            if (!isInvisible) {
                grecaptchaArgs['expired-callback'] = function () {
                    toggleError(true);
                }
            }
            let widgetId = grecaptcha.render(el, grecaptchaArgs, true);
            jEl.attr(recaptchaWidgetIdAttr, widgetId);

            jForm.submit(function (event) {
                if (!allowSubmit) {
                    event.preventDefault();
                    if (isInvisible) {
                        grecaptcha.execute(widgetId);
                    }
                    else {
                        alert('Please fill out CAPTCHA');
                    }
                }
                else {
                    let onRecaptchaSubmitAttr = jEl.attr('on-recaptcha-submit');
                    if (onRecaptchaSubmitAttr != null && onRecaptchaSubmitAttr.length > 0) {
                        let func = window[onRecaptchaSubmitAttr];
                        if (typeof func === 'function') {
                            func(jForm[0]);
                        }
                    }
                }
            });
        });
    }

    function getRecaptchaWidgetId(el) {
        return $(el).attr(recaptchaWidgetIdAttr);
    }

    function getRecaptchaResponse(el) {
        return grecaptcha.getResponse(getRecaptchaWidgetId(el));
    }</script>
<script async="" defer="" src="https://www.google.com/recaptcha/api.js?onload=captchaCallback&amp;render=explicit"></script>
<style>
    .grecaptcha-badge {
        bottom: 30px;
        z-index: 2060;
    }

    .g-recaptcha:not(.invisible-recaptcha):not([data-size="invisible"]) {
        display: inline-block;
    }

    .recaptcha-error {
        border: 1px solid red;
        padding: 3px;
        margin: 13px;
    }

    .recaptcha-error-message {
        color: red;
    }</style>


<div id="modalID1" class="modal fade" role="dialog" style="overflow: visible;">
    <div class="modal-dialog" style="max-width: 450px">
        <div class="modal-content">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"  onclick="$('#modalID1').modal('toggle');">&times;</button>
                    <h5 class="modal-title" style="text-align: center"><b>Subscribe to CDSS Online Email Notifications</b></h5>
                </div>
                <div id="mainDiv" class="mainDiv">
                    <div id="subscriptionFields" class="modal-body">
                        <input name="__RequestVerificationToken" type="hidden" value="MEsNmdXU8qA2a-tcFqSrGGzlhvBJxyzez8BoubIVfNOeO4wA3UkXycl7BRI8MwU5CyuPRteLwRx9iTS9bIhzuCEdC6X2X0xW8TBaZTFqrcg1" />
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="text" class="form-control" id="txtemail" placeholder="Email" name="email">
                        </div>
                        <div class="form-group">
                            <label for="pwd">Verify Email:</label>
                            <input type="text" class="form-control" id="txtverifyemail" placeholder="Verify Email" name="pwd">
                        </div>
                        <div class="recaptcha-error recaptcha-parent"><div class="g-recaptcha"></div><div class="recaptcha-error-message">Please verify that you are not a robot.</div></div>
                        
                        
                        
                        <br />


                        <div class="form-group" id="span1" style="display:none;color:red"><span></span></div>
                    </div>
                    
                    <div class="form-group" style="text-align:center">

                        <button type="button" class="btn btn-rt" tabindex="4" onclick="EmailScription();">Subscribe</button>
                        <button type="button" class="btn btn-rt"  onclick="$('#modalID1').modal('toggle');">Cancel</button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>
<div id="SubscriptionSuccess" class="modal fade" role="dialog">
    <div class="modal-dialog" style="max-width: 450px">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h5 class="modal-title" style="text-align: center"><b id="SubscriptionHeader">Success</b></h5>
            </div>
            <div class="modal-body">
                <div class="successDiv" id="successDiv">
                    <br />
                    <div class="form-group" id="successSpan" style="text-align:center">
                        <span> Hallelujah</span>
                    </div>
                </div>
                <br />
                <div class="form-group" style="text-align:center">
                    <button type="button" class="btn btn-rt"  onclick="$('#SubscriptionSuccess').modal('toggle');">Close</button>
                </div>
            </div>
        </div>

    </div>
</div>
<script>
    $(document).ready(function () {
        // codes works on all bootstrap modal windows in application
        $('.modal').on('hidden.bs.modal', function (e) {
           $("#span1").css('display', 'none');
           $("#span1").text("");
           $("#txtemail").val("");
           $("#txtverifyemail").val("");
           $("div.modal-backdrop").prop("class", "");
           grecaptcha.reset();
        });
    })
</script> 
<script>
    var imNotARobot = function() {
        $("#span1").css('display', 'none');
        $("#span1").text("");
    };
    function ValidateEmail(email) {
        var expr = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (email.includes("..")) {
            return false;
        };
        return expr.test(email);
    };
    function EmailScription() {
        $("#span1").css('display', 'none');
        var form = $("#subscriptionFields");
        const captchaResponse = getRecaptchaResponse(form.find(".g-recaptcha"));
        if (captchaResponse == "") {
            $("#span1").css('display', 'block');
            $("#span1").text("Robot verification missing");
            return false;
        } else {
        }
        if (!ValidateEmail($("#txtemail").val())) {
            $("#span1").css('display', 'block');
            $("#span1").text("Invalid email address");
            return false;
        }

        if ($("#txtemail").val() != $("#txtverifyemail").val())
        {
            $("#span1").css('display', 'block');
            $("#span1").text("Verify Email does not match Email address");
            return false;
        }
        else {
            let data = {
                email: $('#txtemail').val(),
                list: "Tools and Technology News",
                "g-recaptcha-response": captchaResponse
            };
            
            var token = form.find(':input:hidden[name*="RequestVerificationToken"]');
            if (token.length > 0)
                data[token.attr("name")] = token.val();
            $.ajax({
                url: '/Tools/Subscription/EmailVerification',
                type: "POST",
                dataType: "JSON",
                data: data,
                success: function (data) {

                    if (data.EmailAddress == "Failed") {
                        document.getElementById('SubscriptionHeader').innerHTML = "Failure";
                        $("#successSpan").text("Subscription failed. Please contact dnr_dwr_app_support@state.co.us");
                    }else if (data.EmailExists == false) {
                        $("#successSpan").text("Subscription success.  An email has been sent to allow you to complete your registration.");
                    }
                    else {
                        $("#successSpan").text("Successfully subscribed to notification list.");
                    }

                    $('#modalID1').modal('hide');
                    $('#SubscriptionSuccess').modal('show');
                },
                error: function (ex) {
                    alert('Error' + ex);
                }
            });

        }

    }

</script>



    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-dwr" data-dismiss="modal">Close</button>
    </div>
                </div>
            </div>
        </div>
        <div id="exportID" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content" style="font-family: sans-serif; color: black">
                </div>
            </div>
        </div>
        <!-- Login expired Modal-->
        <div id="modalSignOut" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="modalSignOutTitle" style="text-align: center"><b>Log out:</b></h4>
                    </div>
                    <style>
                        div#modalSignOutBody {
                            text-align: center;
                        }
                    </style>
                    <div class="modal-body" id="modalSignOutBody" style="min-height: 50px;">
                        You have been inactive for too long and will be automatically logged out in <span id="modalSignOutTime"></span>
                        <br><br>To stay signed in longer, sign out, then sign back in after selecting the "Stay signed in" option.
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="modalSignOutShowButton" style="display: none;" class="btn btn-rt" data-toggle="modal" data-target="#modalSignOut"></button>
                        <button type="button" id="modalSignOutRenewButton" class="btn btn-dwr">Click here to stay signed in</button>
                        <button type="button" id="modalSignOutDismissButton" class="btn btn-dwr" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Logout Modal-->
        <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="logoutModalLabel" style="float: left">Confirm logout</h5>
                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                        <BR />
                    </div>
                    <div class="modal-body">Select "Sign out" below if you are ready to end your current session.</div>
                    <div class="modal-footer">
                        <button class="btn-dwr" type="button" value="Log out" onclick="location.href = '/Tools/Home/LogoutUser'">Sign out</button>
                        <button class="btn-dwr" type="button" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer" class="footer navbar-fixed-bottom">
        <table class="tableFooter" cellspacing="0">
            <tr>
                <td>
                    <a href="http://cwcb.state.co.us" target="_blank">CWCB</a> | <a href="http://dwr.colorado.gov" target="_blank">DWR</a> |
                    <a href="https://dnr.colorado.gov/" target="_blank">DNR</a> | <a href="http://www.colorado.gov/" target="_blank">Colorado.gov</a> |
                    <a href="/Tools/TermsOfUse.htm" target="blank">Terms of Use</a> |
                    <a href="https://dnr.colorado.gov/accessibility" target="_blank">Accessibility & Accommodations</a> |
                    <a href="https://www.colorado.gov/privacy-statement" target="_blank">Privacy Policy</a>
                </td>
            </tr>
        </table>
    </div>


</body>
</html>
    <script>
        var admin_flag = 0;
        var admin_message = '&#39;&#39;';
        getNamespace("AdminMessageUtils").setAdminFlagAndMessage(admin_flag, admin_message);
        var CurrentEnvironment = 'https://dwr.state.co.us/tools/';
    </script>

<script>
    if (typeof CheckForResize == 'function') {
        start = CheckForResize();
    } else {
        start = false;
    }
    function ShowBanner(shouldShow) {
        if (shouldShow) {
            document.getElementById('hideBanner').style.display = 'block';
            document.getElementById('ImgDnrLarge').style.display = 'block';
            document.getElementById('showBanner').style.display = 'none';
            document.getElementById('userDiv').style.display = 'block';
        } else {
            document.getElementById('hideBanner').style.display = 'none';
            document.getElementById('ImgDnrLarge').style.display = 'none';
            document.getElementById('showBanner').style.display = 'block';
            document.getElementById('userDiv').style.display = 'none';
        }
        $(document).trigger("bannerShownHidden", shouldShow);
        if (start) {
            refreshGrid();
        }
    }
    setWindowResizeFunc(start ? ParametersForResize : resizeMenu);
    function resize(gridShown, mapShown, manualMapSize, searchOverallResultCount, searchLimitedResultCount, mapInfoFeatureCount, gridName) {
        let resizeMapFunc = window.resizeMap || function () { };
        resizeMenu();
        var headerHeight;
        if (document.getElementById('header'))
            headerHeight = document.getElementById('header').offsetHeight;
        var footerHeight;
        if (document.getElementById('footer'))
            footerHeight = document.getElementById('footer').offsetHeight;
        var rightSectionContent;
        if (document.getElementById('rightSectionContent'))
            rightSectionContent = document.getElementById('rightSectionContent').offsetHeight;
        var limitExceeded = false;
        var rightSectionNavTabs;
        var mapLimitMsgExceed;
        var gridLimitMsgExceed;
        var maplimitExceeded;
        var mapPoints;
        rightSectionNavTabs = document.getElementById('rightSectionNavTabs') ? document.getElementById('rightSectionNavTabs').offsetHeight + 10 : 0;

        if ((gridShown && mapShown) && searchOverallResultCount > searchLimitedResultCount && mapInfoFeatureCount >= 10000) {
            gridLimitMsgExceed = document.getElementById('exeedLimitMsg').offsetHeight;
            mapLimitMsgExceed = (document.getElementById('exeedLimitMsgMap') || { offsetHeight: 0 }).offsetHeight;
            limitExceeded = true;
            maplimitExceeded = true;
        } else if (mapShown && mapInfoFeatureCount >= 10000) {
            mapLimitMsgExceed = (document.getElementById('exeedLimitMsgMap') || { offsetHeight: 0 }).offsetHeight;
            maplimitExceeded = true;
        } else if (gridShown && searchOverallResultCount > searchLimitedResultCount) {
            gridLimitMsgExceed = document.getElementById('exeedLimitMsg').offsetHeight;
            limitExceeded = true;
        }
        if (mapShown && !maplimitExceeded && document.getElementById('mapPoints')) {
            maplimitExceeded = false;
            mapPoints = document.getElementById('mapPoints').offsetHeight;
        }
        if (mapPoints == null) mapPoints = 0;
        var mobile = false;
        if (window.innerWidth < 710) {
            mobile = true;
        }
        var sizeSet;
        var messageBox = document.getElementById('messageBox');
        sizeSet = window.innerHeight - footerHeight - headerHeight - 6 - (messageBox != null ? messageBox.offsetHeight : 0);

        //Mobile
        if (mobile) {
            if ((gridShown)/* && manualMapSize == 0*/) {
                document.getElementById('rightSectionContent').style.height = sizeSet + "px";
                if (!$('#leftSectionContent').hasClass('hidden')) {
                    sizeSet = window.innerHeight - footerHeight - 6;
                    document.getElementById('rightSectionContent').style.height = sizeSet + "px";
                    rightSectionContent = document.getElementById('rightSectionContent').offsetHeight;
                }
                if (limitExceeded && maplimitExceeded) {
                    resizeGrid(gridName, gridLimitMsgExceed + rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, rightSectionNavTabs + mapLimitMsgExceed);
                } else if (maplimitExceeded) {
                    resizeGrid(gridName, rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, rightSectionNavTabs + mapLimitMsgExceed);
                } else if (limitExceeded) {
                    resizeGrid(gridName, gridLimitMsgExceed + rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, mapPoints + rightSectionNavTabs);
                } else {
                    resizeGrid(gridName, rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, mapPoints + rightSectionNavTabs);
                }
            } else if (mapShown) {
                resizeMapFunc(window.innerHeight, headerHeight + footerHeight + manualMapSize);
            }
            //if (window.screen.availHeight == window.outerHeight) {
            //}
        } //laptop
        else {
            if ((gridShown)/* && manualMapSize == 0*/) {
                document.getElementById('rightSectionContent').style.height = sizeSet + "px";
                if (limitExceeded && maplimitExceeded) {
                    resizeGrid(gridName, gridLimitMsgExceed + rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, rightSectionNavTabs + mapLimitMsgExceed);
                } else if (maplimitExceeded) {
                    resizeGrid(gridName, rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, rightSectionNavTabs + mapLimitMsgExceed);
                } else if (limitExceeded) {
                    resizeGrid(gridName, gridLimitMsgExceed + rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, mapPoints + rightSectionNavTabs);
                } else {
                    resizeGrid(gridName, rightSectionNavTabs, manualMapSize);
                    resizeMapFunc(rightSectionContent, mapPoints + rightSectionNavTabs);
                }
            } else if (mapShown) {
                resizeMapFunc(window.innerHeight, headerHeight + footerHeight + manualMapSize);
            }

        }
    }


    function resizeGrid(gridName, size, toolbarHeight) {
        if (toolbarHeight == null) toolbarHeight = 0;
        var gridElement = $("#" + gridName),
            dataArea = gridElement.find(".k-grid-content"),
            dataAreaHeader = gridElement.find(".k-grid-header"),
            dataAreaFooter = gridElement.find(".k-pager-wrap"),
            gridToolbar = gridElement.find(".k-grid-toolbar"),
            gridHeight = gridElement.innerHeight(),
            otherElements = gridElement.children().not(".k-grid-content"),
            otherElementsHeight = document.getElementById('rightSectionContent').offsetHeight;
        gridElement.innerHeight(otherElementsHeight - (size + 13));
        dataArea.innerHeight(otherElementsHeight - (size + toolbarHeight + 15 + gridToolbar.innerHeight() + dataAreaHeader.innerHeight() + dataAreaFooter.innerHeight()));
    }


    $(document).ready(function () {
        if (start) {
            refreshGrid();
        }
        resizeMenu();
    });

    //Don't export / submit on enter keypress'
    $(document).on("keypress", "form", function (event) {
        return event.keyCode != 13;
    });


    window.onload = function () {
        var isIE = false || !!document.documentMode;
        if (isIE) {
            refreshGrid();
        }
    };

    document.addEventListener("click", function (evt) {
        if ($(evt.target).closest('#menuDropdown').length || $(evt.target).closest('#navbar-collapse-1').length) {
            return;
        }
        else {
            if ($("#menuDropdown").hasClass("change")) {
                $("#menuDropdown").toggleClass("change");
                $('#menuDropdown').parent().toggleClass('open');
            }
        }
    });

    // JTC: Fixes DateTime rounding issue in Chrome browsers v67 and up
    // Begin Chrome DateTime Patch
    var onRequestEnd = function (e) {
        if (e.hasOwnProperty('response') && e.response.Data && e.response.Data.length) {

            var data = e.response.Data;
            performance.mark("loopRecords-start");
            data.forEach(function (value, index, array) {
                offsetDateFields(value);
            });
            performance.mark("loopRecords-end");
            performance.measure("loopRecords", "loopRecords-start", "loopRecords-end");

            var measures = performance.getEntriesByName("loopRecords");
            var measure = measures[0];
            //console.log("loopRecords milliseconds:", measure.duration);

            performance.clearMarks();
            performance.clearMeasures();
        }
    }

    function offsetDateFields(obj) {
        for (var name in obj) {
            var prop = obj[name];
            if (typeof (prop) === "string" && prop.indexOf("/Date(") == 0) {
                obj[name] = prop.replace(/-?\d+/, function (n) {
                    // If there was ever a magic number, -163530000000 would be it
                    if (n < -163530000000) {
                        var offsetMiliseconds = new Date(parseInt(n)).getTimezoneOffset() * 60000;
                        return parseInt(n) + offsetMiliseconds;
                    }
                    return parseInt(n);
                });
            }
        }
    }
    // End Chrome DateTime Patch
    
</script>

    <script>
        function getGoogleMapsApiUrl() {
            return "https://maps.googleapis.com/maps/api/js?key=AIzaSyC9b6pH6YqgsTjeYn3MA5hAUJbcWsreRFw&libraries=places";
        }
    </script>
    <script>
        (function () {
            let tryInit = function (numTimes) {
                if (numTimes == null || isNaN(Number(numTimes))) numTimes = 5;
                if (typeof initialize === "function") {
                    initialize();
                }
                else {
                    if (numTimes > 0) {
                        setTimeout(function () { tryInit(numTimes - 1); }, 50);
                    }
                }
            };
            let tryInit3 = function () { tryInit(3); };
            $(document.body).one("click.tryInitMap", "#Map", tryInit3);
            $(document).ready(function () {
                if ($("#Map").length < 1) {
                    $(document.body).off("click.tryInitMap", "#Map", tryInit3);
                    tryInit3();
                }
            });
        }());

    </script>
